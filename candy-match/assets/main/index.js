System.register("chunks:///_virtual/acrossViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./viewNameConst.ts","./app.ts"],(function(e){var t,o,i,n,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,i=e._decorator},function(e){n=e.BaseViewCmpt},function(e){s=e.ViewName},function(e){c=e.App}],execute:function(){var r;o._RF.push({},"1c7dd/F2yRMUo1rAeRarwXC","acrossViewCmpt",void 0);var a=i.ccclass;i.property,e("acrossViewCmpt",a("acrossViewCmpt")(r=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var i=o.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this)},i.loadExtraData=function(){c.view.closeView(s.Single.eLoadingView)},i.onClick_startBtn=function(){c.view.openView(s.Single.eHomeView)},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/advertise.ts",["cc","./wxManager.ts"],(function(t){var n,i,o;return{setters:[function(t){n=t.cclegacy,i=t.sys},function(t){o=t.WxMgr}],execute:function(){n._RF.push({},"d7442HqVwxNSb0myN0lLnRZ","advertise",void 0);var e=t("Ads",function(){function t(){this.bannerAdv=null,this.videoAdv=null,this.interstitialAd=null,this.bannerId="",this.videoId="",this.interstitialId="",this.init()}var n=t.prototype;return n.init=function(){if(i.platform==i.Platform.WECHAT_GAME){console.log("--------------init ads-----------------");var t=wx.getSystemInfoSync(),n=wx.createBannerAd({adUnitId:this.bannerId,adIntervals:30,style:{left:(t.windowWidth-300)/2,top:t.windowHeight-80,width:300}});this.bannerAdv=n,n.onResize((function(i){n.style.top=t.windowHeight-n.style.realHeight-1})),n.onError((function(t){console.log(t)}));var o=wx.createRewardedVideoAd({adUnitId:this.videoId});if(o.onError((function(t){console.log(t)})),this.videoAdv=o,wx.createInterstitialAd){var e=wx.createInterstitialAd({adUnitId:this.interstitialId});this.interstitialAd=e}}},n.showBannerAds=function(){i.platform==i.Platform.WECHAT_GAME&&this.bannerAdv.show()},n.hideBannerAds=function(){i.platform==i.Platform.WECHAT_GAME&&this.bannerAdv.hide()},n.showVideoAds=function(){if(i.platform==i.Platform.WECHAT_GAME){var t=this.videoAdv;t.show().catch((function(){t.load().then((function(){return t.show()})).catch((function(t){console.log("激励视频 广告显示失败")}))})),t.onError((function(t){console.log(t)})),t.onClose((function(n){t&&(t.offClose(),(n&&n.isEnded||void 0===n)&&o.addReward())}))}},n.showInterstitialAds=function(){if(i.platform==i.Platform.WECHAT_GAME){var t=this.interstitialAd;t&&t.show().catch((function(t){console.error(t)}))}},t}());t("Advertise",new e);n._RF.pop()}}}));

System.register("chunks:///_virtual/androidPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventName.ts","./app.ts","./logHelper.ts","./nativePlatform.ts"],(function(e){var t,n,i,o,a,s,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.game},function(e){o=e.EventName},function(e){a=e.App},function(e){s=e.PrintLog},function(e){r=e.Native_Operation,c=e.NativePlatform}],execute:function(){n._RF.push({},"fc9ddBLSIlLL5G8Fs2Z+1Ds","androidPlatform",void 0);e("AndroidPlatform",function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).callback=null,t}t(n,e);var c=n.prototype;return c.getUUid=function(){return this.sendNativeMsg(r.GetUUid)},c.changeOrientation=function(t){if(t!=this.isPortrait){this.isPortrait=t;var n=t?"V":"H";this.sendNativeMsg(r.ChangeOrientation,n),e.prototype.changeOrientation.call(this,t)}},c.savePictureToAlbum=function(e){this.sendNativeMsg(r.SavePicture,e)},c.copyToClipboard=function(e){this.sendNativeMsg(r.CopyToClipboard,e)},c.getClipboardContent=function(e){return this.callback=e,this.sendNativeMsg(r.GetClipboardContent)},c.getPackageName=function(){var e=this;return this.sendNativeMsg(r.GetPackageName),new Promise((function(t){a.event.on(o.Lobby.GETPACKAGENAME,t,e)}))},c.getAppVersion=function(){return this.sendNativeMsg(r.GetAppVersion)},c.checkIsEmulator=function(){return!!this.sendNativeMsg(r.CheckIsEmulator)},c.faceBookLogin=function(){return this.sendNativeMsg(r.FaceBookLogin)},c.faceBookLoginOut=function(){return this.sendNativeMsg(r.FaceBookOut)},c.loginGoogle=function(){return this.sendNativeMsg(r.LoginGoogle)},c.loginOutGoogle=function(){return this.sendNativeMsg(r.LoginOutGoogle)},c.faceBookShare=function(e){return this.sendNativeMsg(r.FaceBookShare,JSON.stringify(e))},c.whatsAppShare=function(e){return this.sendNativeMsg(r.WhatsAppShare)},c.sendNativeMsg=function(e,t){return void 0===t&&(t=""),s(" sendJavaMsg opt = "+e+" , args = "+t),null},c.receiveNativeMsg=function(e,t){switch(s(" receiveNativeMsg opt = "+e+"   data = "+t),e){case r.SavePicture:case r.CopyToClipboard:a.view.showMsgTips(t);break;case r.FaceBookLogin:a.event.emit(o.Login.LOGIN_THIRD_WAY,t),s(t);break;case r.FaceBookOut:s(t);break;case r.LoginGoogle:a.event.emit(o.Login.LOGIN_THIRD_WAY,t);break;case r.LoginOutGoogle:s(t);break;case r.GetClipboardContent:this.callback&&this.callback(t);break;case r.GetPackageName:s(t),a.event.emit(o.Lobby.GETPACKAGENAME,t);break;case r.GetAppVersion:s(t),a.event.emit(o.Lobby.GETAPPVERSION,t);break;case r.CheckIsEmulator:+t||i.end()}},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/app.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singletonClass.ts","./i18nManager.ts","./eventManager.ts","./viewManager.ts","./audioManager.ts","./subGameManager.ts","./platformManager.ts","./userInfo.ts","./noticeManager.ts","./storageHelper.ts","./timeManager.ts","./gameLogic.ts","./wxManager.ts","./viewNameConst.ts"],(function(n){var e,t,i,a,r,o,u,c,s,g,f,p,l,m,v,y,M,d,k,I;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass,i=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){o=n.SingletonClass},function(n){u=n.I18nManager},function(n){c=n.EventManager},function(n){s=n.ViewManager},function(n){g=n.SoundType,f=n.AudioManager},function(n){p=n.SubGameManager},function(n){l=n.PlatformManager},function(n){m=n.UserInfo},function(n){v=n.NoticeManager},function(n){y=n.StorageHelper},function(n){M=n.default},function(n){d=n.GameLogic},function(n){k=n.WxMgr},function(n){I=n.ViewName}],execute:function(){r._RF.push({},"4ce7alO+7RBO5WbUuJ1gzr2","app",void 0);var h=function(n){function r(){return n.apply(this,arguments)||this}e(r,n);var o=r.prototype;return o.onInit=function(){var n=i(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:w.user.init(),this.audio.init(e),this.view.init(e),this.timer.init(),this.gameLogic.init(),y.initData(),k.init();case 7:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),o.addEvent=function(){},o.backHome=function(n,e){void 0===n&&(n=!1),void 0===e&&(e=2),w.view.openView(I.Single.eHomeView,n,e),w.audio.play("background",g.Music,!0)},o.setBackLobby=function(){this.platform.changeOrientation(!1)},o.evtResizeCallback=function(){},t(r,[{key:"user",get:function(){return m.getInstance(m)}},{key:"platform",get:function(){return l.getInstance(l)}},{key:"subGame",get:function(){return p.getInstance(p)}},{key:"view",get:function(){return s.getInstance(s)}},{key:"event",get:function(){return c.getInstance(c)}},{key:"audio",get:function(){return f.getInstance(f)}},{key:"i18n",get:function(){return u.getInstance(u)}},{key:"notice",get:function(){return v.getInstance(v)}},{key:"timer",get:function(){return M.getInstance(M)}},{key:"gameLogic",get:function(){return d.getInstance(d)}}]),r}(o),w=n("App",h.getInstance(h));window.JsApp=w,r._RF.pop()}}}));

System.register("chunks:///_virtual/audioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./logHelper.ts","./resLoadHelper.ts","./storageHelper.ts","./app.ts","./singletonClass.ts"],(function(t){var i,e,o,n,s,u,a,r,c,l,d,f,p;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t.AudioSource,a=t.js},function(t){r=t.PrintLog},function(t){c=t.ResLoadHelper},function(t){l=t.StorageHelper,d=t.StorageHelperKey},function(t){f=t.App},function(t){p=t.SingletonClass}],execute:function(){s._RF.push({},"eae15ASC5VJp5ccv+3GN6+u","audioManager",void 0);var h=t("SoundType",function(t){return t[t.Music=1]="Music",t[t.Effect=2]="Effect",t}({}));t("AudioManager",function(t){function s(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this)._audioVol=1,i._isHide=!1,i._commonClipCache=a.createMap(),i._bgAudio=void 0,i._effectCtrlAudio=void 0,i}i(s,t);var p=s.prototype;return p.onInit=function(t){var i=this;this._audioVol=l.getData(d.Audio_Volume,1),this._isHide=!this._audioVol,this._bgAudio=t.getComponent(u)||t.addComponent(u),this._bgAudio.volume=this._audioVol,this._effectCtrlAudio=t.addComponent(u),f.event.on("hide",(function(){i._isHide=!0,i._bgAudio.stop()}),this),f.event.on("show",(function(){i._isHide=!1,i._audioVol>0&&i._bgAudio.play()}),this)},p.onDestroy=function(){this._bgAudio.destroy(),delete this._bgAudio,this._effectCtrlAudio.destroy(),delete this._effectCtrlAudio},p.keepPlay=function(){this._bgAudio&&this._audioVol>0&&!this._bgAudio.playing&&this._bgAudio.play()},p.play=function(){var t=o(n().mark((function t(i,e,o,s){var u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=h.Effect),void 0===o&&(o=!1),void 0===s&&(s=!1),u=this._commonClipCache[i]){t.next=9;break}return t.next=7,c.loadCommonAudioClip(i);case 7:u=t.sent,this._commonClipCache[i]=u;case 9:if(u){t.next=11;break}return t.abrupt("return");case 11:this.playClip(i,e,u,o,s);case 12:case"end":return t.stop()}}),t,this)})));return function(i,e,o,n){return t.apply(this,arguments)}}(),p.playClip=function(t,i,e,o,n){o&&(this._bgAudio.stop(),this._bgAudio.clip=e,this._bgAudio.loop=!0);var s=l.getBooleanData(d.Music_Status);if(i!=h.Music||s){var u=l.getBooleanData(d.Music_Eff_Status);(i!=h.Effect||u)&&(r("  播放声音 = "+t),o?this._bgAudio.play():(this._effectCtrlAudio.clip=e,this._effectCtrlAudio.loop=!1,this._effectCtrlAudio.play()))}},p.setMusicOpen=function(t){var i=t?1:0;this.setVolume(i)},p.resumeMusic=function(){this.setMusicOpen(!0),this._bgAudio.play()},p.stopMusic=function(){this.setMusicOpen(!1),this._bgAudio.stop(),this.stopEffect()},p.stopEffect=function(){this._effectCtrlAudio.stop()},p.setVolume=function(t){this._bgAudio.volume=t,this._audioVol=t,l.setData(d.Audio_Volume,this._audioVol)},e(s,[{key:"isOpen",get:function(){return this._audioVol>0}},{key:"volumes",get:function(){return this._audioVol}}]),s}(p));s._RF.pop()}}}));

System.register("chunks:///_virtual/baseNodeCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cocosHelper.ts"],(function(t){var e,n,i,o,s,a,d,r,c,h,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,d=t.Button,r=t.Node,c=t.EditBox,h=t.Component},function(t){l=t.CocosHelper}],execute:function(){var p,u,m,C,_;s._RF.push({},"90094idqPxATKI/FUpezPN8","baseNodeCmpt",void 0);var g=a.ccclass,f=a.property;t("BaseNodeCmpt",(p=g("baseNodeCmpt"),u=f({displayName:"Select all nodes"}),p((_=e((C=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"isSelectNode",_,o(e)),e.viewList=new Map,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.isSelectNode&&this.selectChild(this.node),this.addEvent()},s.addEvent=function(){},s.onDestroy=function(){this.node.destroy()},s.getNodeByName=function(t){return this.viewList.get(t)||null},s.selectChild=function(t,e){void 0===e&&(e="");for(var n=[[t,e]];n.length>0;){var i=n.pop(),o=i[0],s=i[1];this.viewList.set(s,o),this._bingButton(o),this._bingEditBox(o);for(var a=o.children,d=a.length-1;d>=0;d--){var r=a[d],c=s?s+"/"+r.name:r.name;n.push([r,c])}}},s._bingButton=function(t){if(t.getComponent(d)){var e=t.getComponent(d);e.transition=d.Transition.SCALE,e.zoomScale=.95,this["onClick_"+t.name+"_Start"]&&l.addButtonLister(t,r.EventType.TOUCH_START,this["onClick_"+t.name+"_Start"].bind(this,t),this,0),this["onClick_"+t.name+"_End"]&&l.addButtonLister(t,r.EventType.TOUCH_END,this["onClick_"+t.name+"_End"].bind(this,t),this,0),this["onClick_"+t.name]&&l.addButtonLister(t,r.EventType.TOUCH_END,this["onClick_"+t.name].bind(this,t),this,0)}},s._bingEditBox=function(t){t.getComponent(c)&&(this["onEditEnd_"+t.name]&&l.addEditBoxLister(t,this["onEditEnd_"+t.name].bind(this,t.getComponent(c)),this,0,"editing-did-ended"),this["onEditChange_"+t.name]&&l.addEditBoxLister(t,this["onEditChange_"+t.name].bind(this,t.getComponent(c)),this,0,"text-changed"))},e}(h)).prototype,"isSelectNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=C))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/basePlatform.ts",["cc"],(function(e){var t,i,n,o,r,a,s;return{setters:[function(e){t=e.cclegacy,i=e.size,n=e.view,o=e.macro,r=e.ResolutionPolicy,a=e.Node,s=e.Sprite}],execute:function(){t._RF.push({},"f6f55aijF9JTrkMQyE9YogR","basePlatform",void 0);e("BasePlatform",function(){function e(){}var t=e.prototype;return t.changeOrientation=function(e){var t=i(n.getVisibleSize()),a=t.width,s=t.height;if(!(e&&a<s)&&(e||!(a>s))){var c=a>s?a:s,u=a>s?s:a;if(e?(n.setFrameSize(u,c),n.setOrientation(o.ORIENTATION_PORTRAIT)):(n.setFrameSize(c,u),n.setOrientation(o.ORIENTATION_LANDSCAPE)),e){var f=a*(720/1443);n.setDesignResolutionSize(1443,f,r.FIXED_WIDTH)}else{var l=s*(720/1443);n.setDesignResolutionSize(l,1443,r.FIXED_HEIGHT)}}},t.shootBackground=function(e,t,i){var n=new a;n.addComponent(s);return n},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/baseViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enumConst.ts","./app.ts","./cocosHelper.ts"],(function(e){var t,i,n,o,a,s,r,l,c,d,p,u,h,m,f,g,C,y,v,b,S,w,k,E,_,T,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,l=e._decorator,c=e.Enum,d=e.Widget,p=e.BlockInputEvents,u=e.Node,h=e.Layers,m=e.UITransform,f=e.view,g=e.v3,C=e.tween,y=e.easing,v=e.Sprite,b=e.Color,S=e.Button,w=e.EditBox,k=e.Component},function(e){E=e.WindowType,_=e.WindowOpenType},function(e){T=e.App},function(e){B=e.CocosHelper}],execute:function(){var A,N,z,L,P,x,D,O,M,I,V,H,U,W,F,R,G,j,J;r._RF.push({},"c1d62bgGM9HkauYhtJLePWO","baseViewCmpt",void 0);var Y=l.ccclass,q=l.property;e("BaseViewCmpt",(A=Y("baseViewCmpt"),N=q({displayName:"是否遍历所有节点"}),z=q({type:c(E),displayName:"窗口类型"}),L=q({type:c(_),displayName:"打开类型"}),P=q({displayName:"是否添加全屏Widget"}),x=q({displayName:"是否遮罩"}),D=q({displayName:"点击空白地方是否关闭窗口"}),O=q({displayName:"是否播放打开界面动画,animNode为播放动画的节点"}),M=q({displayName:"是否截屏模糊背景"}),A((H=t((V=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"isSelectNode",H,o(t)),t.viewList=new Map,n(t,"viewType",U,o(t)),n(t,"viewOpenType",W,o(t)),n(t,"isAddFullWidget",F,o(t)),n(t,"isMask",R,o(t)),n(t,"isTouchSpaceClose",G,o(t)),n(t,"isPlayOpenAnim",j,o(t)),n(t,"isScreeShoot",J,o(t)),t.maskPanel=void 0,t.closeCallBack=void 0,t.extraData=void 0,t.isInGame=!1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){if(this.isSelectNode&&this.selectChild(this.node),this.isPlayOpenAnim&&this.openAnim(),this.addEvents(),this.isAddFullWidget){var e=this.node.addComponent(d);e.isAlignTop=!0,e.top=0,e.isAlignBottom=!0,e.bottom=0,e.isAlignLeft=!0,e.left=0,e.isAlignRight=!0,e.right=0}this.isMask&&this.addMask(),this.isTouchSpaceClose&&this.addSpaceEvent(),this.isScreeShoot&&this.screeShot()},r.loadExtraData=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.extraData=t},r.addEvents=function(){},r.setMaskVis=function(e){this.maskPanel&&(this.maskPanel.active=e)},r.cancelBlockInput=function(){this.maskPanel&&this.maskPanel.getComponent(p)&&this.maskPanel.removeComponent(p)},r.setCloseFunc=function(e){this.closeCallBack=e},r.onClose=function(){this.closeCallBack&&this.closeCallBack.bind(this)(this),this.node&&(this.node.removeFromParent(),console.log("distroy"),console.log(this.node.name),this.node.destroy())},r.addSpaceEvent=function(){var e=this,t=new u;t.layer=h.Enum.UI_2D,t.addComponent(m),t.getComponent(m).setContentSize(f.getVisibleSize()),this.node.addChild(t),t.setSiblingIndex(-1),t.on(u.EventType.TOUCH_END,(function(i){i.target==t&&e.onTouchSpace()}))},r.onTouchSpace=function(){this.onClick_closeBtn()},r.onClick_closeBtn=function(){var e=this.node.viewName;e?T.view.closeView(e):this.onClose()},r.onDestroy=function(){T.event.offAll(this)},r.openAnim=function(e){var t=this.viewList.get("animNode");t&&(t.scale=g(0,0,0),C(t).to(.2,{scale:g(1,1,1)},{easing:y.backOut}).call((function(){e&&e()})).start())},r.screeShot=function(){var e=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.addMask=function(){var e=new u;e.layer=h.Enum.UI_2D,e.addComponent(m);var t=e.addComponent(v);t.type=v.Type.SLICED,t.sizeMode=v.SizeMode.CUSTOM,e.getComponent(m).setContentSize(f.getVisibleSize()),t.color=new b(0,0,0,180),this.node.addChild(e),e.setSiblingIndex(-2),this.maskPanel=e,B.updateCommonSpriteSync(e,"popbg/common"),e.addComponent(p)},r.selectChild=function(e,t){void 0===t&&(t="");for(var i=[[e,t]];i.length>0;){var n=i.pop(),o=n[0],a=n[1];this.viewList.set(a,o),this._bingButton(o),this._bingEditBox(o);for(var s=o.children,r=s.length-1;r>=0;r--){var l=s[r],c=a?a+"/"+l.name:l.name;i.push([l,c])}}},r._bingButton=function(e){if(e.getComponent(S)){var t=e.getComponent(S);t.transition=S.Transition.SCALE,t.zoomScale=.95,this["onClick_"+e.name+"_Start"]&&B.addButtonLister(e,u.EventType.TOUCH_START,this["onClick_"+e.name+"_Start"].bind(this,e),this,0),this["onClick_"+e.name+"_End"]&&B.addButtonLister(e,u.EventType.TOUCH_END,this["onClick_"+e.name+"_End"].bind(this,e),this,0),this["onClick_"+e.name]&&B.addButtonLister(e,u.EventType.TOUCH_END,this["onClick_"+e.name].bind(this,e),this,0)}},r._bingEditBox=function(e){e.getComponent(w)&&(this["onEditEnd_"+e.name]&&B.addEditBoxLister(e,this["onEditEnd_"+e.name].bind(this,e.getComponent(w)),this,0,"editing-did-ended"),this["onEditChange_"+e.name]&&B.addEditBoxLister(e,this["onEditChange_"+e.name].bind(this,e.getComponent(w)),this,0,"text-changed"))},t}(k)).prototype,"isSelectNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=t(V.prototype,"viewType",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.eView}}),W=t(V.prototype,"viewOpenType",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.eSingle}}),F=t(V.prototype,"isAddFullWidget",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=t(V.prototype,"isMask",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=t(V.prototype,"isTouchSpaceClose",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=t(V.prototype,"isPlayOpenAnim",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=t(V.prototype,"isScreeShoot",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=V))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/blockCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,a;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.UITransform,a=e.Component}],execute:function(){var r;i._RF.push({},"c98559UzNZLtYPXky6aQC8f","blockCmpt",void 0);var h=n.ccclass;n.property,e("blockCmpt",h("blockCmpt")(r=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).h=0,t.v=0,t}t(i,e);var n=i.prototype;return n.initData=function(e,t){this.node.getChildByName("single").children.forEach((function(e){return e.active=!1})),this.node.getChildByName("corner").children.forEach((function(e){return e.active=!1})),this.h=e,this.v=t},n.isInside=function(e){var t=this.node.getComponent(o).width,i=this.node.position;return Math.abs(e.x-i.x)<=t/2&&Math.abs(e.y-i.y)<=t/2},n.handleBorders=function(e,t,i,n){this.node.getChildByName("single").getChildByName("top").active=!e,this.node.getChildByName("single").getChildByName("down").active=!t,this.node.getChildByName("single").getChildByName("left").active=!i,this.node.getChildByName("single").getChildByName("right").active=!n,this.node.getChildByName("corner").getChildByName("left_top").active=!e&&!i,this.node.getChildByName("corner").getChildByName("left_down").active=!t&&!i,this.node.getChildByName("corner").getChildByName("right_top").active=!e&&!n,this.node.getChildByName("corner").getChildByName("right_down").active=!t&&!n},i}(a))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/buyViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./enumConst.ts","./eventName.ts","./levelConfig.ts","./app.ts","./cocosHelper.ts","./globalFuncHelper.ts","./toolsHelper.ts"],(function(e){var t,o,i,n,s,a,l,d,r,m,p;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,i=e._decorator},function(e){n=e.BaseViewCmpt},function(e){s=e.Bomb},function(e){a=e.EventName},function(e){l=e.LevelConfig},function(e){d=e.App},function(e){r=e.CocosHelper},function(e){m=e.GlobalFuncHelper},function(e){p=e.ToolsHelper}],execute:function(){var c;o._RF.push({},"7e044Zeg1JNhbSIwakEy9vq","buyViewCmpt",void 0);var u=i.ccclass;i.property,e("BuyViewCmpt",u("buyViewCmpt")(c=function(e){function o(){for(var t,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).lbGold=null,t.content=null,t}t(o,e);var i=o.prototype;return i.onLoad=function(){for(var t=1;t<8;t++)this["onClick_itemBtn"+t]=this.handleBtnEvent.bind(this);e.prototype.onLoad.call(this),this.lbGold=this.viewList.get("top/lbGold"),this.content=this.viewList.get("s/view/content"),d.event.on(a.Game.UpdataGold,this.evtUpdateGold,this),this.evtUpdateGold(),this.updateItemStatus()},i.loadExtraData=function(){d.audio.play("UI_PopUp")},i.evtUpdateGold=function(){var e=m.getGold();r.updateLabelText(this.lbGold,e)},i.updateItemStatus=function(){var e=m.getGold(),t=e<888,o=this.content.getChildByName("itemBtn1");p.setNodeGray(o,t),t=e<200,o=this.content.getChildByName("itemBtn4"),p.setNodeGray(o,t),o=this.content.getChildByName("itemBtn5"),p.setNodeGray(o,t),o=this.content.getChildByName("itemBtn7"),p.setNodeGray(o,t),t=e<600,o=this.content.getChildByName("itemBtn6"),p.setNodeGray(o,t)},i.handleBtnEvent=function(e){d.audio.play("button_click");var t=m.getGold(),o=t<888,i=l.getCurLevel();switch(e.name){case"itemBtn1":if(o)return void d.view.showMsgTips("金币不足");m.setGold(-888),d.event.emit(a.Game.UpdataGold),d.view.showMsgTips("购买成功"),m.setBomb(s.hor,1),m.setBomb(s.allSame,1),m.setBomb(s.bomb,1);break;case"itemBtn2":d.event.emit(a.Game.Share,i,!1),m.setGold(1e3),d.event.emit(a.Game.UpdataGold);break;case"itemBtn3":d.event.emit(a.Game.Share,i,!1),m.setGold(5e3),d.event.emit(a.Game.UpdataGold);break;case"itemBtn4":if(o=t<200)return void d.view.showMsgTips("金币不足");m.setGold(-200),d.event.emit(a.Game.UpdataGold),d.view.showMsgTips("购买成功"),m.setBomb(s.bomb,1);break;case"itemBtn5":if(o=t<200)return void d.view.showMsgTips("金币不足");m.setGold(-200),d.event.emit(a.Game.UpdataGold),d.view.showMsgTips("购买成功"),m.setBomb(s.hor,1);break;case"itemBtn6":if(o=t<600)return void d.view.showMsgTips("金币不足");m.setGold(-600),d.event.emit(a.Game.UpdataGold),d.view.showMsgTips("购买成功"),m.setBomb(s.allSame,1);break;case"itemBtn7":if(o=t<200)return void d.view.showMsgTips("金币不足");m.setGold(-200),d.event.emit(a.Game.UpdataGold),d.view.showMsgTips("购买成功"),m.setHeart(1)}this.updateItemStatus()},o}(n))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/cameraCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseNodeCmpt.ts","./app.ts","./eventName.ts"],(function(t){var e,o,n,i,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Vec3},function(t){r=t.BaseNodeCmpt},function(t){s=t.App},function(t){a=t.EventName}],execute:function(){var c;o._RF.push({},"a392fnTBrVBKrqfvcG1BR0z","cameraCmpt",void 0);var p=n.ccclass;n.property,t("cameraCmpt",p("cameraCmpt")(c=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).originPos=null,e.offset=5,e}e(o,t);var n=o.prototype;return n.onLoad=function(){t.prototype.onLoad.call(this),s.event.on(a.UI.MoveCarmera,this.evtMoveCarmera,this),this.originPos=this.node.getPosition(),this.scheduleOnce((function(){}),3)},n.evtMoveCarmera=function(t){var e=t*this.offset,o=new i(this.originPos.x,this.originPos.y-e,this.originPos.z);this.node.setPosition(o)},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/challengeViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./enumConst.ts","./eventName.ts","./levelConfig.ts","./viewNameConst.ts","./app.ts","./cocosHelper.ts","./globalFuncHelper.ts","./gridCmpt.ts"],(function(t){var e,o,n,i,a,l,s,c,r,u,h,m,p,b;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t._decorator},function(t){l=t.BaseViewCmpt},function(t){s=t.Bomb},function(t){c=t.EventName},function(t){r=t.LevelConfig},function(t){u=t.ViewName},function(t){h=t.App},function(t){m=t.CocosHelper},function(t){p=t.GlobalFuncHelper},function(t){b=t.gridCmpt}],execute:function(){var g;i._RF.push({},"13d65T7UzpMzZ5nLJ97Eq1b","challengeViewCmpt",void 0);var v=a.ccclass;a.property,t("challengeViewCmpt",v("challengeViewCmpt")(g=function(t){function i(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).lv=0,e.lbTool1=null,e.lbTool2=null,e.lbTool3=null,e.tCount1=0,e.tCount2=0,e.tCount3=0,e}e(i,t);var a=i.prototype;return a.onLoad=function(){for(var e=1;e<4;e++)this["onClick_toolBtn"+e]=this.onClickToolBtn.bind(this);t.prototype.onLoad.call(this),this.lbTool1=this.viewList.get("animNode/content/bg/toolBtn1/prompt/lbTool1"),this.lbTool2=this.viewList.get("animNode/content/bg/toolBtn2/prompt/lbTool2"),this.lbTool3=this.viewList.get("animNode/content/bg/toolBtn3/prompt/lbTool3"),this.tCount1=p.getBomb(s.hor),this.tCount2=p.getBomb(s.bomb),this.tCount3=p.getBomb(s.allSame)},a.loadExtraData=function(){var t=o(n().mark((function t(e){var o,i,a,l;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lv=e,m.updateLabelText(this.viewList.get("animNode/content/lb/title"),"第"+e+"关"),t.next=4,r.getLevelData(e);case 4:o=t.sent,i=this.viewList.get("animNode/content/target"),a=o.mapData[0].m_id,l=o.mapData[0].m_ct,i.children.forEach((function(t,e){if(t.active=e<a.length,e<a.length){t.getComponent(b).setType(a[e]);var o=l[e]+10;l[e]<10&&(o=l[e]+30),t.getComponent(b).setCount(o)}})),m.updateLabelText(this.lbTool3,this.tCount3),m.updateLabelText(this.lbTool2,this.tCount2),m.updateLabelText(this.lbTool1,this.tCount1),this.setAddStatus();case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.onClick_playBtn=function(){h.audio.play("button_click"),h.gameLogic.toolsArr=[];for(var t=1;t<4;t++){if(this.viewList.get("animNode/content/bg/toolBtn"+t).getChildByName("s").active)switch(h.gameLogic.toolsArr.push(t+8),t+8){case s.allSame:p.setBomb(s.allSame,-1);break;case s.hor:p.setBomb(s.hor,-1);break;case s.ver:p.setBomb(s.ver,-1);break;case s.bomb:p.setBomb(s.bomb,-1)}}this.onClick_closeBtn(),h.view.openView(u.Single.eGameView,this.lv)},a.onClickToolBtn=function(t){if(h.audio.play("button_click"),this["tCount"+ +t.name.substring(t.name.length-1,t.name.length)]<=0)return h.event.emit(c.Game.GotoShop),void this.onClick_closeBtn();var e=t.getChildByName("s").active;t.getChildByName("s").active=!e,t.getChildByName("s1").active=!e},a.setAddStatus=function(){for(var t=1;t<4;t++){this.viewList.get("animNode/content/bg/toolBtn"+t).getChildByName("add").active=this["tCount"+t]<=0}},i}(l))||g);i._RF.pop()}}}));

System.register("chunks:///_virtual/characterCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseNodeCmpt.ts","./enumConst.ts","./eventName.ts","./app.ts"],(function(t){var e,n,o,i,s,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){i=t.BaseNodeCmpt},function(t){s=t.Direction},function(t){c=t.EventName},function(t){r=t.App}],execute:function(){var a;n._RF.push({},"1b014lWZkJL4YLJE2YnUf0C","characterCmpt",void 0);var v=o.ccclass;o.property,t("roleCmpt",v("roleCmpt")(a=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).isMoving=!1,e.direction=s.left,e}e(n,t);var o=n.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this)},o.addEvent=function(){r.event.on(c.Game.Move,this.evtMove,this),r.event.on(c.Game.EndMove,this.evtEndMove,this)},o.evtMove=function(t){this.direction=t,this.isMoving=!0},o.evtEndMove=function(){this.isMoving=!1},o.update=function(t){if(this.isMoving){t*=10;var e=this.node.getPosition();switch(this.direction){case s.left:e.x+=t;break;case s.right:e.x-=t;break;case s.up:e.z+=t;break;case s.down:e.z-=t}this.node.setPosition(e)}},o.onDestroy=function(){t.prototype.onDestroy.call(this),r.event.off(c.Game.Move,this),r.event.off(c.Game.EndMove,this)},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/cocosHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./logHelper.ts","./resLoadHelper.ts","./toolsHelper.ts"],(function(e){var t,n,r,o,a,i,c,u,p,s,d,f,l,m,v,S,g;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.Component,a=e.isValid,i=e.Node,c=e.Label,u=e.EditBox,p=e.RichText,s=e.Sprite,d=e.SpriteFrame,f=e.UITransform,l=e.Vec3},function(e){m=e.App},function(e){v=e.PrintError},function(e){S=e.ResLoadHelper},function(e){g=e.ToolsHelper}],execute:function(){r._RF.push({},"76d63wAte9KcKwHTdtTPtdB","cocosHelper",void 0);e("CocosHelper",new(function(){function e(){}var r=e.prototype;return r.addButtonLister=function(e,t,n,r,o){void 0===o&&(o=0);for(var a=arguments.length,i=new Array(a>5?a-5:0),c=5;c<a;c++)i[c-5]=arguments[c];e.off(t),e.on(t,(function(){if(o){var t=e.clickTime||(new Date).getTime(),a=(new Date).getTime(),c=(a-t)/1e3;if(c&&c<o)return;e.attr({clickTime:a})}e.name.indexOf("Audio"),n.call.apply(n,[r,e].concat(i))}))},r.addEditBoxLister=function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o="editing-did-ended");for(var a=arguments.length,i=new Array(a>5?a-5:0),c=5;c<a;c++)i[c-5]=arguments[c];e.off(o),e.on(o,(function(){if(r){var o=e.clickTime||(new Date).getTime(),a=(new Date).getTime(),c=(a-o)/1e3;if(c&&c<r)return;e.attr({clickTime:a})}t.call.apply(t,[n,e].concat(i))}))},r.addEventHandler=function(e,t,n,r){void 0===r&&(r="");var a=new o.EventHandler;return a.target=e,a.component=t,a.handler=n,a.customEventData=r,a},r.updateCommonSpriteSync=function(){var e=t(n().mark((function e(t,r){var o,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(t)){e.next=3;break}return v("updateCommonSpriteSync not node = "+r),e.abrupt("return");case 3:if(o=t.getComponent(s)){e.next=7;break}return v("updateCommonSpriteSync not sprite = "+r),e.abrupt("return");case 7:return e.next=9,S.loadCommonAssetSync(r,d);case 9:if(i=e.sent){e.next=13;break}return v("updateCommonSpriteSync not SpriteFrame = "+r),e.abrupt("return");case 13:o.spriteFrame=i;case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.updateLabelText=function(e,t,n){if(void 0===n&&(n=!1),a(e)){var r=e instanceof i?e.getComponent(c):e;if(r){t+="";var o=n?m.i18n.getString(t):t;r.string=o}else v("LabelText not label = "+t)}else v("LabelText not node = "+t)},r.updateEditBoxText=function(e,t,n){if(void 0===n&&(n=!0),a(e)){var r=e instanceof i?e.getComponent(u):e;if(r){var o=n?m.i18n.getString(t):t;r.string=o}else v("LabelText not label = "+t)}else v("LabelText not node = "+t)},r.updateRichText=function(e,t,n){if(void 0===n&&(n=!0),a(e)){var r=e instanceof i?e.getComponent(p):e;if(r){var o=n?m.i18n.getString(t):t;r.string=o}else v("LabelText not label = "+t)}else v("LabelText not node = "+t)},r.updateMoneyLab=function(e,t){var n=g.moneyToThousands(t);this.updateLabelText(e,n,!1)},r.updateSpriteSync=function(){var e=t(n().mark((function e(t,r){var o,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(t)){e.next=3;break}return v("updateSpriteSync not node = "+r),e.abrupt("return");case 3:if(o=t.getComponent(s)){e.next=7;break}return v("updateSpriteSync not sprite = "+r),e.abrupt("return");case 7:return e.next=9,S.loadAssetSync(r,d);case 9:if(i=e.sent){e.next=13;break}return v("updateSpriteSync not SpriteFrame = "+r),e.abrupt("return");case 13:o.spriteFrame=i;case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.updateSpriteAsync=function(e,t,n){if(void 0===n&&(n=!1),a(e)){var r=e.getComponent(s);r?S.loadAssetAsync(t,d,(function(t){t&&a(e)&&(r.spriteFrame=t)}),n):v("updateSpriteAsync not sprite = "+t)}else v("updateSpriteAsync not node = "+t)},r.updateUserHeadSpriteAsync=function(){var e=t(n().mark((function e(t,r){var o,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(t)){e.next=3;break}return v("updateUserHeadSpriteAsync not node = "+r),e.abrupt("return");case 3:if(t.getComponent(s)){e.next=7;break}return v("updateUserHeadSpriteAsync not sprite = "+r),e.abrupt("return");case 7:return"1",r||(r="1"),o="head/head"+r,e.next=12,S.loadCommonAssetSync(o,d);case 12:i=e.sent,t.getComponent(s).spriteFrame=i;case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.convertToNodeSpaceAR=function(e,t){return t.getComponent(f).convertToNodeSpaceAR(e.parent.getComponent(f).convertToWorldSpaceAR(e.getPosition()))},r.convertToPosSpaceAR=function(e,t,n){return n.getComponent(f).convertToNodeSpaceAR(t.getComponent(f).convertToWorldSpaceAR(new l(e.x,e.y,0)))},r.wordToScree=function(e,t){return e.worldToScreen(t)},e}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/dataviewUtils.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8496boolPFNjJIoSqiaOBqe","dataviewUtils",void 0);t("default",function(){function t(){}return t.getHeadData=function(t){var e=t.getInt16(0),n=t.getInt16(2),r=t.getInt32(4);return{id:e,serverType:n,router:String(r)}},t.decoding=function(t,e){for(var n="",r=0,a=0;a<e&&!(r+8>=e);a++){var i=t.getInt16(r+8);r+=2,n+=String.fromCharCode(i)}return JSON.parse(n)},t.encoding=function(t,e,n,r){var a=JSON.stringify(r),i=new ArrayBuffer(2*a.length+8),o=new DataView(i);o.setInt16(0,t),o.setInt16(2,e),o.setInt32(4,n);for(var u=0,c=0;c<a.length;c++){var f=a.charCodeAt(c);o.setInt16(u+8,f),u+=2}return o.buffer},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"f50f23XRS1EvqA0kkrjmZ5J","DyManager",void 0),t("SdkManager",function(){function t(){this.videoId="",this.videoAd=null,this.interstitialId="",this.interstitialAd=null,this.bannerId="",this.bannerAd=null}var i=t.prototype;return i.getPlatform=function(){return null},i.initBannerAd=function(){var t=this,n=this.getPlatform();if(n){if(""!=this.bannerId){var i=n.getSystemInfoSync();null==this.bannerAd&&(this.bannerAd=n.createBannerAd({adUnitId:this.bannerId,adIntervals:30,style:{height:i.windowHeight-80,left:0,top:500,width:i.windowWidth}}),this.bannerAd.onResize((function(n){t.bannerAd.style.top=i.windowHeight-t.bannerAd.style.realHeight,t.bannerAd.style.left=i.windowWidth/2-t.bannerAd.style.realWidth/2})),this.bannerAd.onError((function(t){console.log("初始化异常",t)})))}}else console.log("banner ad init...")},i.toggleBannerAd=function(t){this.getPlatform()?this.bannerAd&&(t?this.bannerAd.show():this.bannerAd.hide()):console.log("【流量主横幅:"+t+"】")},i.initInterstitialAd=function(){var t=this.getPlatform();t?""!=this.interstitialId&&null==this.interstitialAd&&(this.interstitialAd=t.createInterstitialAd({adUnitId:this.interstitialId}),this.interstitialAd.onError((function(t){}))):console.log("inter ad init...")},i.showInterstitialAd=function(){this.getPlatform()?this.interstitialAd&&this.interstitialAd.show().catch((function(t){})):console.log("【流量主插屏】")},i.initVideoAd=function(){var t=this.getPlatform();t?""!=this.videoId&&null==this.videoAd&&(this.videoAd=t.createRewardedVideoAd({adUnitId:this.videoId}),this.videoAd.onError((function(t){}))):console.log("video ad init...")},i.showVideoAd=function(t,n){var i=this;return this.getPlatform()?this.videoAd?(this.videoAd.offClose(),this.videoAd.onClose((function(e){return i.videoAd.offClose(),e&&e.isEnded||void 0===e?t&&t("激励奖励已发放"):n&&n("视频播放中断")})),void this.videoAd.show().catch((function(){i.videoAd.load().then((function(){return i.videoAd.show()})).catch((function(t){console.log("广告展示失败")}))}))):n&&n("该功能尚未开放"):(console.log("激励模拟成功"),t&&t("模拟成功，激励奖励已发放"))},n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t),this._instance}}]),t}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/enumConst.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"735c9mnir1AaJ4lKk2U+DGZ","enumConst",void 0);e("WindowType",function(e){return e[e.eMap=1]="eMap",e[e.eView=2]="eView",e[e.eTips=3]="eTips",e[e.eMarquee=4]="eMarquee",e[e.eToast=5]="eToast",e[e.eNetwork=6]="eNetwork",e}({})),e("WindowOpenType",function(e){return e[e.eSingle=1]="eSingle",e[e.eMultiple=2]="eMultiple",e}({})),e("Language",{Portuguese:0,English:1,Chinese:2}),e("PlatFormType",function(e){return e[e.android=1]="android",e[e.ios=2]="ios",e[e.web=3]="web",e}({})),e("Direction",function(e){return e[e.left=0]="left",e[e.right=1]="right",e[e.up=2]="up",e[e.down=3]="down",e}({})),e("Constant",{changeTime:.3,layCount:9,Width:75}),e("GoldType",function(e){return e[e.share=0]="share",e[e.level=1]="level",e[e.star=2]="star",e}({})),e("Bomb",function(e){return e[e.ver=8]="ver",e[e.hor=9]="hor",e[e.bomb=10]="bomb",e[e.allSame=11]="allSame",e}({})),e("PageIndex",function(e){return e[e.shop=0]="shop",e[e.rank=1]="rank",e[e.home=2]="home",e[e.share=3]="share",e[e.setting=4]="setting",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/err.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"e3376SPCTlOIauH5nLs8SBQ","err",void 0);e("ErrEnum",{OK:200});r._RF.pop()}}}));

System.register("chunks:///_virtual/eventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singletonClass.ts"],(function(t){var e,n,r,i,a,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,i=t.Component,a=t.Node},function(t){s=t.SingletonClass}],execute:function(){r._RF.push({},"cb230EqBJpL37IE3+YhxKSt","eventManager",void 0);t("EventManager",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._mapListener=new Map,e}e(r,t);var s=r.prototype;return s.onDestroy=function(){this._mapListener.clear()},s.on=function(t,e,n){var r=this;if(!this._isNull(n)){var s={handler:e,target:n},o=this._mapListener.get(t)||[];return o.length<1?(this._mapListener.set(t,[s]),1):(this._mapListener.set(t,o.filter((function(t){return t.target instanceof i?!r._isNull(t.target.node.parent):t.target instanceof a?!r._isNull(t.target.parent):t.target}))),this._mapListener.get(t).push(s),this._mapListener.get(t).length)}},s.emit=function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var o=this._mapListener.get(t)||[];o.length<1||(this._mapListener.set(t,o.filter((function(t){return t.target instanceof i?!e._isNull(t.target.node.parent):t.target instanceof a?!e._isNull(t.target.parent):t.target}))),this._mapListener.get(t).forEach((function(t){t.handler.apply(t.target,r)})))},s.off=function(t,e){var n=this._mapListener.get(t)||[];this._mapListener.set(t,n.filter((function(t){return t.target!==e})))},s.offAll=function(t){if(!this._isNull(t))for(var e,r=n(this._mapListener);!(e=r()).done;){var i=e.value,a=i[0],s=i[1];this._mapListener.set(a,s.filter((function(e){return e.target!==t})))}},s._isNull=function(t){return null==t},r}(s));r._RF.pop()}}}));

System.register("chunks:///_virtual/eventName.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){var t;e("EventName",void 0),o._RF.push({},"e73c1Rm9CxJXYN0CoqZN265","eventName",void 0),function(e){var o=function(e){return e.Move="Move",e.EndMove="EndMove",e.TouchTile="TouchTile",e.Restart="Restart",e.RefreshCurLevel="RefreshCurLevel",e.NextLevel="NextLevel",e.LoadMap="LoadMap",e.BackHome="BackHome",e.AddStarScore="AddStarScore",e.UpdataGold="UpdataGold",e.ContinueGame="ContinueGame",e.RefreshTools="RefreshTools",e.ToolReturn="ToolReturn",e.ToolCountRefresh="ToolCountRefresh",e.Share="Share",e.LayoutFinish="LayoutFinish",e.ClickedTile="ClickedTile",e.Connected="Connected",e.TouchStart="TouchStart",e.TouchMove="TouchMove",e.TouchEnd="TouchEnd",e.TouchMovingAndCheckPos="TouchMovingAndCheckPos",e.IsSuitable="IsSuitable",e.CheckRusult="CheckRusult",e.FlyFlower="FlyFlower",e.GuildEvent="GuildEvent",e.Scrolling="Scrollinggg",e.GotoShop="GotoShopgg",e.TIMER_DOWN="TIMER_DOWN",e}({});e.Game=o;var t=function(e){return e.RotateTile="RotateTile",e.MoveCarmera="MoveCarmera",e}({});e.UI=t}(t||(t=e("EventName",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/gameLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enumConst.ts","./singletonClass.ts"],(function(t){var i,e,n,r,s,o;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){s=t.Bomb},function(t){o=t.SingletonClass}],execute:function(){r._RF.push({},"24298e3SlFN7o4tJ6/pxFxx","gameLogic",void 0);t("GameLogic",function(t){function r(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this).rewardGold=100,i.curLevel=1,i.blockCount=5,i.toolsArr=[],i.hideFullList=[],i.hideList=[],i.defaultHidelist=[[[0,0],[0,1],[1,0],[0,8],[0,7],[1,8],[8,0],[8,1],[7,0],[8,8],[8,7],[7,8]],[[0,0],[0,1],[0,2],[1,0],[2,0],[1,1],[0,8],[8,8],[6,0],[7,1],[8,2],[7,0],[8,0],[8,1]],[[4,5],[4,6],[4,7],[4,8],[4,0],[4,1],[4,2],[4,3]],[[2,8],[3,8],[4,8],[5,8],[6,8],[3,7],[5,7],[4,7],[4,6]],[[0,4],[1,4],[2,4],[3,4],[5,4],[6,4],[7,4],[8,4]],[[0,4],[1,4],[2,4],[3,4],[5,4],[6,4],[7,4],[8,4],[4,5],[4,6],[4,7],[4,8],[4,0],[4,1],[4,2],[4,3]],[[3,8],[4,8],[5,8],[3,1],[4,1],[5,1],[3,7],[4,7],[5,7],[3,0],[4,0],[5,0],[0,5],[1,5],[2,5],[6,5],[7,5],[8,5],[0,4],[1,4],[2,4],[6,4],[7,4],[8,4],[0,3],[1,3],[2,3],[6,3],[7,3],[8,3]],[[0,2],[1,2],[2,2],[6,2],[7,2],[8,2],[0,8],[1,8],[2,8],[6,8],[7,8],[8,8],[0,1],[1,1],[2,1],[6,1],[7,1],[8,1],[0,7],[1,7],[2,7],[6,7],[7,7],[8,7],[0,0],[1,0],[2,0],[6,0],[7,0],[8,0],[0,6],[1,6],[2,6],[6,6],[7,6],[8,6]],[[0,5],[1,5],[2,5],[6,5],[7,5],[8,5],[0,4],[1,4],[2,4],[6,4],[7,4],[8,4],[0,3],[1,3],[2,3],[6,3],[7,3],[8,3]],[[0,0],[1,0],[2,1],[3,1],[4,2],[5,2],[6,3],[7,3],[8,4],[6,5],[7,5],[4,6],[5,6],[2,7],[3,7],[0,8],[1,8]]],i}i(r,t);var o=r.prototype;return o.onInit=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.checkInHideList=function(t,i){for(var e=0;e<this.hideList.length;e++)if(this.hideList[e][0]==t&&this.hideList[e][1]==i)return!0;return!1},o.checkAllInHideList=function(t,i){for(var e=!0,n=i;n>=0;n--){if(!this.checkInHideList(t,n)){e=!1;break}}return e},o.resetHdeList=function(t){if(this.defaultHidelist[t-1])this.hideList=this.defaultHidelist[t-1];else if(0!=this.hideFullList.length){this.hideList=[];for(var i=Math.floor(25*Math.random()),e=0;e<i;e++){var n=Math.floor(Math.random()*this.hideFullList.length);this.hideList.push(this.hideFullList[n])}}else this.hideList=this.defaultHidelist[0]},o.isNeighbor=function(t,i){return t.h==i.h&&1==Math.abs(t.v-i.v)||t.v==i.v&&1==Math.abs(t.h-i.h)},o.isSameGrid=function(t,i){return t.v==i.v&&t.h==i.h},o.isSameHorizental=function(t){for(var i=t[0].v,e=0;e<t.length;e++)if(t[e].v!=i)return!1;return!0},o.isSameVertical=function(t){for(var i=t[0].h,e=0;e<t.length;e++)if(t[e].h!=i)return!1;return!0},o.getBombType=function(t){return 4!=t.length?this.isSameHorizental(t)||this.isSameVertical(t)?s.allSame:s.bomb:this.isSameHorizental(t)?s.ver:this.isSameVertical(t)?s.hor:void 0},r}(o));r._RF.pop()}}}));

System.register("chunks:///_virtual/gameViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./enumConst.ts","./eventName.ts","./levelConfig.ts","./viewNameConst.ts","./app.ts","./audioManager.ts","./cocosHelper.ts","./globalFuncHelper.ts","./resLoadHelper.ts","./toolsHelper.ts","./advertise.ts","./gridManagerCmpt.ts","./gridCmpt.ts","./rocketCmpt.ts"],(function(t){var e,r,n,o,a,i,s,c,h,u,l,p,d,f,g,b,v,k,m,w,C,x,y,T,S,A,B,L;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,i=t.UITransform,s=t.v3,c=t.instantiate,h=t.tween,u=t.Vec3,l=t.Sprite},function(t){p=t.BaseViewCmpt},function(t){d=t.Bomb,f=t.PageIndex,g=t.Constant},function(t){b=t.EventName},function(t){v=t.LevelConfig},function(t){k=t.ViewName},function(t){m=t.App},function(t){w=t.SoundType},function(t){C=t.CocosHelper},function(t){x=t.GlobalFuncHelper},function(t){y=t.ResLoadHelper},function(t){T=t.ToolsHelper},function(t){S=t.Advertise},function(t){A=t.gridManagerCmpt},function(t){B=t.gridCmpt},function(t){L=t.rocketCmpt}],execute:function(){var P;o._RF.push({},"788ecy1oGVHD78Wq0TSW6N5","gameViewCmpt",void 0);var V=a.ccclass;a.property,t("GameViewCmpt",V("gameViewCmpt")(P=function(t){function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).gridMgr=null,e.gridNode=null,e.effNode=null,e.target1=null,e.target2=null,e.targetBg=null,e.lbStep=null,e.spPro=null,e.star=null,e.lbTool1=null,e.lbTool2=null,e.lbTool3=null,e.lbTool4=null,e.addBtn1=null,e.addBtn2=null,e.addBtn3=null,e.addBtn4=null,e.gridPre=null,e.particlePre=null,e.rocketPre=null,e.blockArr=[],e.blockPosArr=[],e.hideList=[],e.H=g.layCount,e.V=g.layCount,e.isStartTouch=!1,e.curTwo=[],e.isStartChange=!1,e.level=0,e.stepCount=0,e.data=null,e.coutArr=[],e.curScore=0,e.starCount=0,e.isWin=!1,e.isRecording=!1,e.isUsingBomb=!1,e}e(o,t);var a=o.prototype;return a.onLoad=function(){for(var e=1;e<5;e++)this["onClick_addBtn"+e]=this.onClickAddButton.bind(this),this["onClick_toolBtn"+e]=this.onClickToolButton.bind(this);t.prototype.onLoad.call(this),m.audio.play("background1",w.Music,!0),this.gridMgr=this.viewList.get("center/gridManager").getComponent(A),this.gridNode=this.viewList.get("center/gridNode"),this.effNode=this.viewList.get("center/effNode"),this.targetBg=this.viewList.get("top/content/targetBg"),this.target1=this.viewList.get("top/target1"),this.target2=this.viewList.get("top/target2"),this.lbStep=this.viewList.get("top/lbStep"),this.spPro=this.viewList.get("top/probg/spPro"),this.star=this.viewList.get("top/star"),this.lbTool1=this.viewList.get("bottom/proppenal/tool1/prompt/lbTool1"),this.lbTool2=this.viewList.get("bottom/proppenal/tool2/prompt/lbTool2"),this.lbTool3=this.viewList.get("bottom/proppenal/tool3/prompt/lbTool3"),this.lbTool4=this.viewList.get("bottom/proppenal/tool4/prompt/lbTool4"),this.addBtn1=this.viewList.get("bottom/proppenal/tool1/addBtn1"),this.addBtn2=this.viewList.get("bottom/proppenal/tool2/addBtn2"),this.addBtn3=this.viewList.get("bottom/proppenal/tool3/addBtn3"),this.addBtn4=this.viewList.get("bottom/proppenal/tool4/addBtn4")},a.addEvents=function(){t.prototype.addEvents.call(this),m.event.on(b.Game.TouchStart,this.evtTouchStart,this),m.event.on(b.Game.TouchMove,this.evtTouchMove,this),m.event.on(b.Game.TouchEnd,this.evtTouchEnd,this),m.event.on(b.Game.ContinueGame,this.evtContinueGame,this),m.event.on(b.Game.Restart,this.evtRestart,this)},a.loadExtraData=function(){var t=r(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.view.closeView(k.Single.eHomeView),S.showInterstitialAds(),this.level=e,t.next=5,v.getLevelData(e);case 5:if(this.data=t.sent,m.gameLogic.blockCount=this.data.blockCount,this.setLevelInfo(),this.gridPre){t.next=18;break}return t.next=11,y.loadPieces(k.Pieces.grid);case 11:return this.gridPre=t.sent,t.next=14,y.loadPieces(k.Pieces.particle);case 14:return this.particlePre=t.sent,t.next=17,y.loadPieces(k.Pieces.rocket);case 17:this.rocketPre=t.sent;case 18:return t.next=20,this.initLayout();case 20:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.setLevelInfo=function(){var t=this.data,e=t.mapData[0].m_id,r=t.mapData[0].m_ct;this.coutArr=[];for(var n=0;n<e.length;n++){var o=[e[n],r[n]+10];r[n]<10&&(o=[e[n],r[n]+30]),this.coutArr.push(o)}var a=this.data.moveCount-10>0?this.data.moveCount-10:this.data.moveCount;this.stepCount=a,this.updateTargetCount(),this.updateStep(),this.updateScorePercent(),this.updateToolsInfo()},a.updateToolsInfo=function(){var t=x.getBomb(d.bomb),e=x.getBomb(d.hor),r=x.getBomb(d.ver),n=x.getBomb(d.allSame);C.updateLabelText(this.lbTool1,t),C.updateLabelText(this.lbTool2,e),C.updateLabelText(this.lbTool3,r),C.updateLabelText(this.lbTool4,n),this.addBtn1.active=t<=0,this.addBtn2.active=e<=0,this.addBtn3.active=r<=0,this.addBtn4.active=n<=0},a.updateTargetCount=function(){var t=this.coutArr;this.target1.active=t.length<=2,this.target2.active=t.length>2,(t.length<=2?this.target1:this.target2).children.forEach((function(e,r){e.active=r<t.length,r<t.length&&(e.getComponent(B).setType(t[r][0]),e.getComponent(B).setCount(t[r][1]))})),this.checkResult()},a.updateScorePercent=function(){var t=this,e=this.data.scores,r=190*(this.curScore/e[e.length-1]<1?this.curScore/e[e.length-1]:1);this.spPro.getComponent(i).width=r,this.star.children.forEach((function(r,n){var o=e[n]/e[e.length-1];r.setPosition(s(180*o,0,1)),r.getChildByName("s").active=t.curScore>=e[n],t.curScore>=e[n]&&(t.starCount=n+1)}))},a.updateStep=function(){this.stepCount<0&&(this.stepCount=0),C.updateLabelText(this.lbStep,this.stepCount)},a.checkResult=function(){if(!this.isWin){for(var t=0,e=0;e<this.coutArr.length;e++)0==this.coutArr[e][1]&&t++;if(t==this.coutArr.length)if(this.isWin=!0,this.stepCount>0)this.handleLastSteps();else m.view.getViewByName(k.Single.eResultView)||m.view.openView(k.Single.eResultView,this.level,!0,this.coutArr,this.starCount);else this.stepCount<=0&&t!=this.coutArr.length&&m.view.openView(k.Single.eResultView,this.level,!1)}},a.handleLastSteps=function(){var t=r(n().mark((function t(){var e,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.stepCount,r=0;case 2:if(!(r<e)){t.next=11;break}return t.next=5,T.delayTime(.1);case 5:this.stepCount--,this.updateStep(),this.throwTools();case 8:r++,t.next=2;break;case 11:return t.next=13,T.delayTime(1);case 13:this.checkAllBomb();case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.checkAllBomb=function(){var t=r(n().mark((function t(){var e,r,o,a,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isValid){t.next=2;break}return t.abrupt("return");case 2:for(e=!1,r=0;r<this.H;r++)for(o=0;o<this.V;o++)(a=this.blockArr[r][o])&&this.isBomb(a.getComponent(B))&&(e=!0,this.handleBomb(a.getComponent(B),!0));return t.next=6,T.delayTime(1);case 6:e||(i=m.view.getViewByName(k.Single.eResultView),console.log("没有炸弹了，一切都结束了"),i||m.view.openView(k.Single.eResultView,this.level,!0,this.coutArr,this.starCount));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.throwTools=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=null),m.audio.play("prop_missle");var r=e||this.lbStep.worldPosition,n=this.effNode.getComponent(i).convertToNodeSpaceAR(r),o=c(this.particlePre);this.effNode.addChild(o),o.setPosition(n),o.children.forEach((function(t){t.active="move"==t.name}));var a=this.getRandomBlock();if(a){var s=this.effNode.getComponent(i).convertToNodeSpaceAR(a.node.worldPosition);h(o).to(1,{position:s}).call((function(){o.destroy();var e=-1==t?Math.floor(3*Math.random())+8:t;a&&a.setType(e)})).start()}},a.getRandomBlock=function(){var t=Math.floor(Math.random()*this.H),e=Math.floor(Math.random()*this.V);return this.blockArr[t][e]&&this.blockArr[t][e].getComponent(B).type<7?this.blockArr[t][e].getComponent(B):this.getRandomBlock()},a.evtContinueGame=function(){this.stepCount+=5,this.isStartChange=!1,this.isStartTouch=!1,this.updateStep()},a.evtTouchStart=function(){var t=r(n().mark((function t(e){var r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(this.isStartTouch,this.isStartChange),this.handleProtected(),!this.isStartChange){t.next=4;break}return t.abrupt("return");case 4:if(!this.isStartTouch){t.next=6;break}return t.abrupt("return");case 6:if(!(this.stepCount<=0)){t.next=10;break}return m.view.showMsgTips("步数不足"),m.view.openView(k.Single.eResultView,this.level,!1),t.abrupt("return");case 10:r=this.gridNode.getComponent(i).convertToNodeSpaceAR(new u(e.x,e.y,1)),o=this.checkClickOnBlock(r),this.curTwo=[],o&&(o.setSelected(!0),this.curTwo.push(o),console.log(o.data),this.isStartTouch=!0);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.evtTouchMove=function(t){if(!this.isStartChange&&this.isStartTouch){var e=this.gridNode.getComponent(i).convertToNodeSpaceAR(new u(t.x,t.y,1)),r=this.checkClickOnBlock(e);r&&m.gameLogic.isNeighbor(r,this.curTwo[0])&&(r.setSelected(!0),this.curTwo.push(r),this.isStartChange=!0,this.startChangeCurTwoPos())}},a.evtTouchEnd=function(){var t=r(n().mark((function t(e){var r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isStartChange){t.next=2;break}return t.abrupt("return");case 2:if(this.isStartTouch){t.next=4;break}return t.abrupt("return");case 4:if(r=this.gridNode.getComponent(i).convertToNodeSpaceAR(new u(e.x,e.y,1)),!(o=this.checkClickOnBlock(r))||!this.isBomb(o)||1!=this.curTwo.length){t.next=9;break}return t.next=9,this.handleBomb(o);case 9:this.isStartTouch=!1,this.isStartChange=!1,this.resetSelected();case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.handleProtected=function(){var t=this;!this.isStartChange&&!this.isStartTouch||this.isRecording||(this.isRecording=!0,this.scheduleOnce((function(){t.isValid&&(t.isRecording=!1,t.isStartChange=!1,t.isStartTouch=!1)}),5))},a.isBomb=function(t){return t.type>=8&&t.type<=11},a.handleBomb=function(){var t=r(n().mark((function t(e,r){var o,a,i,s,c,h,u,l;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=!1),!this.isBomb(e)){t.next=28;break}return o=[],a=[],t.next=6,this.getBombList(e);case 6:i=t.sent,o.push(i),s=0;case 9:if(!(s<i.length)){t.next=21;break}if(i[s].h!=e.h||i[s].v!=e.v){t.next=12;break}return t.abrupt("continue",18);case 12:if(!this.isBomb(i[s])){t.next=18;break}return t.t0=o,t.next=16,this.getBombList(i[s]);case 16:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 18:s++,t.next=9;break;case 21:for(c=function(t){for(var e=0;e<a.length;e++)if(a[e].h==t.h&&a[e].v==t.v)return!0;return!1},h=0;h<o.length;h++)for(u=0;u<o[h].length;u++)l=o[h][u],c(l)||a.push(l);return t.next=25,this.handleSamelistBomb(a);case 25:return t.next=27,this.checkAgain(r);case 27:return t.abrupt("return",!0);case 28:return t.abrupt("return",!1);case 29:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),a.getBombList=function(){var t=r(n().mark((function t(e){var o,a,i,s,u,p,f,g,b,v,k,w,C,x,y,S,A,P,V,_;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=[],t.t0=e.type,t.next=t.t0===d.hor?4:t.t0===d.ver?11:t.t0===d.bomb?18:t.t0===d.allSame?34:63;break;case 4:for(a=0;a<this.H;a++)(i=this.blockArr[a][e.v])&&o.push(i.getComponent(B));return m.audio.play("prop_line"),s=c(this.rocketPre),this.effNode.addChild(s),s.setPosition(e.node.position),s.getComponent(L).initData(e.type),t.abrupt("break",63);case 11:for(u=0;u<this.V;u++)(p=this.blockArr[e.h][u])&&o.push(p.getComponent(B));return m.audio.play("prop_line"),f=c(this.rocketPre),this.effNode.addChild(f),f.setPosition(e.node.position),f.getComponent(L).initData(e.type),t.abrupt("break",63);case 18:g=e.h-2;case 19:if(!(g<e.h+2&&g<this.V)){t.next=32;break}b=e.v-2;case 21:if(!(b<e.v+2&&b<this.V)){t.next=29;break}if(!(g<0||b<0)){t.next=24;break}return t.abrupt("continue",26);case 24:(v=this.blockArr[g][b])&&o.push(v.getComponent(B));case 26:b++,t.next=21;break;case 29:g++,t.next=19;break;case 32:return m.audio.play("prop_bomb"),t.abrupt("break",63);case 34:for(k=-1,w=0;w<this.curTwo.length;w++)this.curTwo[w].type!=e.type&&(k=this.curTwo[w].type);if(!(k<0)){t.next=53;break}C=e.h-1;case 38:if(!(C<e.h+1&&C<this.V)){t.next=53;break}x=e.v-1;case 40:if(!(x<e.v+1&&x<this.V)){t.next=50;break}if(!(C<0||x<0)){t.next=43;break}return t.abrupt("continue",47);case 43:if(!((y=this.blockArr[C][x])&&k<0)){t.next=47;break}return k=y.getComponent(B).type,t.abrupt("break",50);case 47:x++,t.next=40;break;case 50:C++,t.next=38;break;case 53:for((S=e.node.getChildByName("icon").getChildByName("Match11")).getComponent(l).enabled=!1,S.getChildByName("a").active=!0,k<0&&(k=Math.floor(Math.random()*m.gameLogic.blockCount)),m.audio.play("prop_missle"),A=0;A<this.H;A++)for(P=0;P<this.V;P++)(V=this.blockArr[A][P])&&V.getComponent(B).type==k&&(o.push(V.getComponent(B)),_=c(this.particlePre),this.effNode.addChild(_),_.setPosition(e.node.position),_.children.forEach((function(t){t.active="move"==t.name})),h(_).to(.5,{position:V.position}).call(r(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.delayTime(.2);case 2:e.destroy();case 3:case"end":return t.stop()}}),t)})))).start());return o.push(e),t.next=62,T.delayTime(.7);case 62:return t.abrupt("break",63);case 63:return t.abrupt("return",o);case 64:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.resetSelected=function(){this.isValid&&this.curTwo.forEach((function(t){t&&t.setSelected(!1)}))},a.startChangeCurTwoPos=function(){var t=r(n().mark((function t(e){var o,a,i,s=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),o=g.changeTime,a=this.curTwo[0],i=this.curTwo[1],e?m.audio.play("ui_banner_up_hide"):m.audio.play("ui_banner_down_show"),a&&i){t.next=6;break}return t.abrupt("return");case 6:h(a.node).to(o,{position:this.blockPosArr[i.h][i.v]}).start(),h(i.node).to(o,{position:this.blockPosArr[a.h][a.v]}).call(r(n().mark((function t(){var r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=14;break}return s.changeData(a,i),t.next=4,s.handleBomb(a);case 4:return r=t.sent,t.next=7,s.handleBomb(i);case 7:return o=t.sent,t.next=10,s.startCheckThree((function(t){t&&(s.stepCount--,s.updateStep())}));case 10:t.sent||r||o?s.checkAgain():(console.log(s.curTwo),s.startChangeCurTwoPos(!0)),t.next=18;break;case 14:s.changeData(a,i),s.isStartChange=!1,s.isStartTouch=!1,s.resetSelected();case 18:case"end":return t.stop()}}),t)})))).start();case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.checkExist=function(t,e){for(var r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++){var o=e[r][n];if(o.data.h==t.data.h&&o.data.v==t.data.v)return!0}return!1},a.checkAgain=function(){var t=r(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.startCheckThree();case 3:t.sent?this.checkAgain(e):(this.resetSelected(),this.isStartChange=!1,this.isStartTouch=!1,e&&(console.log(e),this.checkAllBomb()));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.startCheckThree=function(){var t=r(n().mark((function t(e){var o=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=null),t.abrupt("return",new Promise(r(n().mark((function t(r){var a,i,s,c,h,u,l,p,d,f,g,b;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],i=0;case 2:if(!(i<o.H)){t.next=22;break}s=0;case 4:if(!(s<o.V)){t.next=19;break}if(o.isValid){t.next=8;break}return r(!1),t.abrupt("return");case 8:if((c=o.blockArr[i][s])&&!c.getComponent(B).getMoveState()){t.next=11;break}return t.abrupt("continue",16);case 11:if(!o.checkExist(c.getComponent(B),a)){t.next=13;break}return t.abrupt("continue",16);case 13:h=o._checkHorizontal(c.getComponent(B)),u=o._checkVertical(c.getComponent(B)),h.length>=3&&u.length>=3&&(h=(h=h.slice(1,h.length)).concat(u),a.push(h));case 16:s++,t.next=4;break;case 19:i++,t.next=2;break;case 22:l=0;case 23:if(!(l<o.H)){t.next=40;break}p=0;case 25:if(!(p<o.V)){t.next=37;break}if((d=o.blockArr[l][p])&&!d.getComponent(B).getMoveState()){t.next=29;break}return t.abrupt("continue",34);case 29:if(!o.checkExist(d.getComponent(B),a)){t.next=31;break}return t.abrupt("continue",34);case 31:f=o._checkHorizontal(d.getComponent(B)),g=o._checkVertical(d.getComponent(B)),f.length>=3?a.push(f):g.length>=3&&a.push(g);case 34:p++,t.next=25;break;case 37:l++,t.next=23;break;case 40:return e&&e(!!a.length),t.next=43,o.handleSamelist(a);case 43:b=!!a.length,r(b);case 45:case"end":return t.stop()}}),t)})))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.handleSamelist=function(){var t=r(n().mark((function t(e){var o=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(r(n().mark((function t(r){var a,i,s,h,u,l;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length<1)){t.next=3;break}return r(""),t.abrupt("return");case 3:o._deleteDuplicates(e),e=o.jugetLegitimate(e),a=["combo_cool","combo_excellent","combo_good","combo_great","combo_perfect"],i=Math.floor(Math.random()*a.length),s=0;case 8:if(!(s<e.length)){t.next=26;break}if(!((h=e[s]).length<3)){t.next=12;break}return t.abrupt("continue",23);case 12:if(!(h.length>3)){t.next=15;break}return o.synthesisBomb(h),t.abrupt("continue",23);case 15:h.length>3?m.audio.play(a[i]):m.audio.play("combo"),u=n().mark((function t(){var e,r,a,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=h[l],r=c(o.particlePre),o.effNode.addChild(r),r.children.forEach((function(t){t.active=+t.name==e.type})),a=e.type,i=e.node.worldPosition,o.flyItem(a,i),o.addScoreByType(a),r.setPosition(o.blockPosArr[e.h][e.v]),o.blockArr[e.h][e.v]=null,e.node.destroy();case 11:case"end":return t.stop()}}),t)})),l=0;case 18:if(!(l<h.length)){t.next=23;break}return t.delegateYield(u(),"t0",20);case 20:l++,t.next=18;break;case 23:s++,t.next=8;break;case 26:return t.next=28,T.delayTime(.2);case 28:return t.next=30,o.checkMoveDown();case 30:r("");case 31:case"end":return t.stop()}}),t)})))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.handleSamelistBomb=function(){var t=r(n().mark((function t(e){var o=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(r(n().mark((function t(r){var a,i,s,h;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length<1)){t.next=3;break}return r(""),t.abrupt("return");case 3:a=["combo_cool","combo_excellent","combo_good","combo_great","combo_perfect"],i=Math.floor(Math.random()*a.length),o.scheduleOnce((function(){o.isValid&&m.audio.play(a[i])}),.2),s=n().mark((function t(){var r,a,i,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[h]){t.next=3;break}return t.abrupt("return",0);case 3:if(a=c(o.particlePre),o.effNode.addChild(a),a.children.forEach((function(t){t.active=+t.name==r.type})),i=r.type,r&&r.node){t.next=9;break}return t.abrupt("return",0);case 9:s=r.node.worldPosition,o.flyItem(i,s),o.addScoreByType(i),a.setPosition(o.blockPosArr[r.h][r.v]),o.blockArr[r.h][r.v]=null,r.node&&r.node.destroy();case 15:case"end":return t.stop()}}),t)})),h=0;case 8:if(!(h<e.length)){t.next=16;break}return t.delegateYield(s(),"t0",10);case 10:if(0!==t.t0){t.next=13;break}return t.abrupt("continue",13);case 13:h++,t.next=8;break;case 16:return t.next=18,T.delayTime(.2);case 18:return t.next=20,o.checkMoveDown();case 20:r("");case 21:case"end":return t.stop()}}),t)})))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.synthesisBomb=function(t){for(var e=this,r=null,n=0;n<t.length;n++)for(var o=0;o<this.curTwo.length;o++)if(t[n].h==this.curTwo[o].h&&t[n].v==this.curTwo[o].v){r=t[n];break}r||(r=t[Math.floor(t.length/2)]);var a=m.gameLogic.getBombType(t);m.audio.play("ui_banner_up_hide");for(var i=0;i<t.length;i++){var s=t[i],c=s.type;s.node.worldPosition;this.addScoreByType(c),h(s.node).to(.1,{position:this.blockPosArr[r.h][r.v]}).call((function(t){var n=t.getComponent(B);console.log(n.h,n.v),n.h==r.h&&n.v==r.v?n.setType(a):(e.blockArr[n.h][n.v]=null,n.node.destroy())})).start()}},a.jugetLegitimate=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];this.startJuge(n)&&e.push(n)}return e},a.startJuge=function(t){var e=!1;switch(t.length){case 3:case 4:e=this._atTheSameHorOrVer(t);break;case 5:(e=this._atTheSameHorOrVer(t))||(e=this._atLeastThreeSameHorAndVer(t));break;case 6:case 7:default:e=this._atLeastThreeSameHorAndVer(t)}return e},a._atLeastThreeSameHorAndVer=function(t){for(var e=0,r=0;r<t.length;r++)for(var n=t[r],o=0;o<t.length;o++){var a=t[o];if(n.data.h==a.data.h){e++;break}}if(e<3)return false;e=0;for(var i=0;i<t.length;i++)for(var s=t[i],c=0;c<t.length;c++){var h=t[c];if(s.data.v==h.data.v){e++;break}}return!(e<3)},a._atTheSameHorOrVer=function(t){for(var e=t[0],r=!0,n=0;n<t.length;n++)if(e.data.h!=t[n].data.h){r=!1;break}if(r)return r;r=!0;for(var o=0;o<t.length;o++)if(e.data.v!=t[o].data.v){r=!1;break}return r},a._deleteDuplicates=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=!0;do{for(var o=0,a=0;a<r.length-1;a++)for(var i=a+1;i<r.length;i++)if(r[a].data.h==r[i].data.h&&r[a].data.v==r[i].data.v){t[e].splice(e,1),o++,console.log("------------repeat----------");break}n=o>0}while(n)}},a._checkHorizontal=function(t){for(var e=[t],r=t.data.h,n=t.data.v,o=r+1;o<this.H&&this.blockArr[o][n];o++){var a=this.blockArr[o][n].getComponent(B);if(!a||t.getMoveState())break;if(a.type!=t.type)break;e.push(a)}for(var i=r-1;i>=0&&!(i<0)&&this.blockArr[i][n];i--){var s=this.blockArr[i][n].getComponent(B);if(!s||t.getMoveState())break;if(s.type!=t.type)break;e.push(s)}return e.length<3?[]:e},a._checkVertical=function(t){for(var e=[t],r=t.data.h,n=t.data.v,o=n+1;o<this.V&&this.blockArr[r][o];o++){var a=this.blockArr[r][o].getComponent(B);if(!a||t.getMoveState())break;if(a.type!=t.type)break;e.push(a)}for(var i=n-1;i>=0&&!(i<0)&&this.blockArr[r][i];i--){var s=this.blockArr[r][i].getComponent(B);if(!s||t.getMoveState())break;if(s.type!=t.type)break;e.push(s)}return e.length<3?[]:e},a.changeData=function(t,e){var r=t.data;t.data=e.data,e.data=r;var n=t.data.h,o=t.data.v,a=e.data.h,i=e.data.v,s=this.blockArr[n][o];this.blockArr[n][o]=this.blockArr[a][i],this.blockArr[a][i]=s,this.blockArr[n][o].getComponent(B).initData(this.blockArr[n][o].getComponent(B).data.h,this.blockArr[n][o].getComponent(B).data.v),this.blockArr[a][i].getComponent(B).initData(this.blockArr[a][i].getComponent(B).data.h,this.blockArr[a][i].getComponent(B).data.v)},a.checkClickOnBlock=function(t){if(this.isValid&&!(this.blockArr.length<1)){for(var e=0;e<this.H;e++)for(var r=0;r<this.V;r++){var n=this.blockArr[e][r];if(n&&n.getComponent(B).isInside(t))return n.getComponent(B)}return null}},a.checkMoveDown=function(){var t=r(n().mark((function t(){var e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(r(n().mark((function t(r){var o,a,i,s,c,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=0;case 1:if(!(o<e.H)){t.next=27;break}a=0,i=0;case 4:if(!(i<e.V)){t.next=24;break}if(e.isValid){t.next=7;break}return t.abrupt("return");case 7:if(s=e.blockArr[o][i],c=m.gameLogic.checkInHideList(o,i),s){t.next=13;break}c?!m.gameLogic.checkAllInHideList(o,i)&&a>0&&a++:a++,t.next=21;break;case 13:if(!(s&&a>0)){t.next=21;break}return t.next=16,e.getDownLastCount(o,i,a);case 16:u=t.sent,e.blockArr[o][i]=null,e.blockArr[o][i-u]=s,s.getComponent(B).initData(o,i-u),h(s).to(.5,{position:e.blockPosArr[o][i-u]},{easing:"backOut"}).call(r).start();case 21:i++,t.next=4;break;case 24:o++,t.next=1;break;case 27:return t.next=29,e.checkReplenishBlock();case 29:r("");case 30:case"end":return t.stop()}}),t)})))));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.getDownLastCount=function(){var t=r(n().mark((function t(e,r,o){var a=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=0;!function t(e,r,o){n=o,(m.gameLogic.checkInHideList(e,r-o)||a.blockArr[e][r-o])&&t(e,r,o-1)}(e,r,o),t(n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),a.checkReplenishBlock=function(){var t=r(n().mark((function t(){var e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(r(n().mark((function t(r){var o,a,i,c,u,l;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=0;o<e.H;o++)for(a=0;a<e.V;a++)i=e.blockArr[o][a],c=m.gameLogic.checkInHideList(o,a),i||c||(u=e.blockPosArr[o][e.V-1],l=e.addBlock(o,a,s(u.x,u.y+g.Width+20,1)),e.blockArr[o][a]=l,h(l).to(.5,{position:e.blockPosArr[o][a]},{easing:"backOut"}).call(r).start());return t.next=3,T.delayTime(.5);case 3:r("");case 4:case"end":return t.stop()}}),t)})))));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.initLayout=function(){var t=r(n().mark((function t(){var e,r,o,a,i,c,u,l,p,d,f;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.clearData(),t.next=3,this.gridMgr.initGrid();case 3:this.hideList=m.gameLogic.hideList,e=0,r=g.Width,o=0,a=0;case 8:if(!(a<this.H)){t.next=32;break}this.blockArr.push([]),this.blockPosArr.push([]),i=0;case 12:if(!(i<this.V)){t.next=29;break}if(m.gameLogic.hideFullList.length<this.H*this.V&&m.gameLogic.hideFullList.push([a,i]),c=(r+e)*(a+0)-(r+e)*(this.H-1)/2,u=(r+e)*(i+0)-(r+e)*(this.V-1)/2,l=s(c,u,1),this.blockPosArr[a][i]=l,!m.gameLogic.checkInHideList(a,i)){t.next=21;break}return this.blockArr[a][i]=null,t.abrupt("continue",26);case 21:o++,(p=this.addBlock(a,i,l)).setScale(s(0,0,0)),h(p).to(o/100,{scale:s(1,1,1)}).start(),this.blockArr[a][i]=p;case 26:i++,t.next=12;break;case 29:a++,t.next=8;break;case 32:return t.next=34,T.delayTime(.8);case 34:for(d=m.gameLogic.toolsArr,f=0;f<d.length;f++)this.throwTools(d[f]);m.gameLogic.toolsArr=[];case 37:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.addBlock=function(t,e,r){void 0===r&&(r=null);var n=c(this.gridPre);return this.gridNode.addChild(n),n.getComponent(B).initData(t,e),r&&n.setPosition(r),n},a.clearData=function(){if(m.gameLogic.resetHdeList(this.level),!(this.blockArr.length<1)){for(var t=0;t<this.H;t++)for(var e=0;e<this.V;e++){var r=this.blockArr[t][e];r&&r.destroy()}this.blockArr=[],this.blockPosArr=[],this.isStartChange=!1,this.isStartTouch=!1,this.curScore=0,this.isWin=!1}},a.addScoreByType=function(t){t>this.data.blockRatio.length-1&&(t=this.data.blockRatio.length-1);var e=this.data.blockRatio[t];this.curScore+=e,this.updateScorePercent()},a.flyItem=function(){var t=r(n().mark((function t(e,r){var o,a,s,l,p=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.data.mapData[0].m_id.indexOf(e)<0)){t.next=3;break}return t.abrupt("return");case 3:o=c(this.gridPre),a=new u,s=new u,this.node.getComponent(i).convertToNodeSpaceAR(r,a),this.node.getComponent(i).convertToNodeSpaceAR(this.targetBg.worldPosition,s),o.setPosition(a),this.node.addChild(o),o.getComponent(B).setType(e),l=.5+1*Math.random(),o.setScale(.5,.5,.5),h(o).to(l,{position:s},{easing:"backIn"}).call((function(){p.handleLevelTarget(e),o.destroy()})).start();case 14:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),a.handleLevelTarget=function(t){for(var e=0;e<this.coutArr.length;e++)t==this.coutArr[e][0]&&(this.coutArr[e][1]--,this.coutArr[e][1]<0&&(this.coutArr[e][1]=0));this.updateTargetCount()},a.evtRestart=function(){this.loadExtraData(this.level)},a.onClick_testBtn=function(){this.loadExtraData(this.level)},a.onClick_setBtn=function(){m.view.openView(k.Single.esettingGameView)},a.onClick_buyBtn=function(){m.audio.play("button_click"),m.view.openView(k.Single.eBuyView)},a.onClick_pauseBtn=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.audio.play("button_click"),m.view.openView(k.Single.esettingGameView);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.onClickAddButton=function(t){switch(m.audio.play("button_click"),t.name){case"addBtn1":d.bomb;break;case"addBtn2":d.hor;break;case"addBtn3":d.ver;break;case"addBtn4":d.allSame}m.backHome(!1,f.shop)},a.onClickToolButton=function(t){var e=this;if(m.audio.play("button_click"),!this.isUsingBomb){this.isUsingBomb=!0,this.scheduleOnce((function(){e.isUsingBomb=!1,e.isStartChange=!1,e.isStartTouch=!1}),1);var r=-1;switch(t.name){case"toolBtn1":r=d.bomb;break;case"toolBtn2":r=d.hor;break;case"toolBtn3":r=d.ver;break;case"toolBtn4":r=d.allSame}if(x.getBomb(r)<=0)m.view.showMsgTips("道具数量不足");else{x.setBomb(r,-1);var n=t.worldPosition;this.throwTools(r,n),this.updateToolsInfo()}}},o}(p))||P);o._RF.pop()}}}));

System.register("chunks:///_virtual/globalFuncHelper.ts",["cc","./enumConst.ts","./viewNameConst.ts","./app.ts","./storageHelper.ts"],(function(e){var t,n,a,o,r,u;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Bomb},function(e){a=e.ViewName},function(e){o=e.App},function(e){r=e.StorageHelper,u=e.StorageHelperKey}],execute:function(){t._RF.push({},"30cc2NATc1Mm48jbsPt4OZS","globalFuncHelper",void 0);e("GlobalFuncHelper",new(function(){function e(){this.debugInfo=[],this.index=0}var t=e.prototype;return t.pushDebugInfo=function(e){this.debugInfo.push(e),this.debugInfo.length>1e4&&this.debugInfo.shift()},t.getDebugInfo=function(){return this.debugInfo},t.clearDebugInfo=function(){this.debugInfo.splice(0)},t.getTileIndex=function(){return this.index++},t.getStarScore=function(e){return+r.getData(u.StarScore,0)},t.setStarScore=function(e,t){return t+=this.getStarScore(),r.setData(u.StarScore,t)},t.getStarReward=function(e){return r.getBooleanData(u.StarReward+e,!1)},t.setStarReward=function(e){return r.setBooleanData(u.StarReward+e,!0)},t.getLevelReward=function(e){return!1},t.setStLevelward=function(e){},t.getGold=function(){return+r.getData(u.Gold)},t.setGold=function(e){var t=+this.getGold();r.setData(u.Gold,e+t+"")},t.getIcon=function(){return+r.getData(u.Icon,1)},t.setIcon=function(e){r.setData(u.Icon,e+"")},t.getHeart=function(){var e=+r.getData(u.Heart,1);return e<0&&(e=0),e},t.setHeart=function(e){var t=this.getHeart()+e;r.setData(u.Heart,t+"")},t.getBomb=function(e){switch(e){case n.hor:return+r.getData(u.BombHor);case n.ver:return+r.getData(u.BombVer);case n.bomb:return+r.getData(u.BombBomb);case n.allSame:return+r.getData(u.BombAllSame)}},t.setBomb=function(e,t){var a=this.getBomb(e),o=a+t>=0?a+t:0;switch(e){case n.hor:r.setData(u.BombHor,o+"");break;case n.ver:r.setData(u.BombVer,o+"");break;case n.bomb:r.setData(u.BombBomb,o+"");break;case n.allSame:r.setData(u.BombAllSame,o+"")}},t.showLoseView=function(){o.view.openView(a.Single.eloseView)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/globalUtils.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"9675cmWlm1NgLiawbkdCV/5","globalUtils",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/gridCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts"],(function(t){var i,e,n,o,a,s,c;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.UITransform,a=t.Label,s=t.Component},function(t){c=t.App}],execute:function(){var h;e._RF.push({},"c0b3a8gzq9EQ4oCb9dGqmYg","gridCmpt",void 0);var r=n.ccclass;n.property,t("gridCmpt",r("gridCmpt")(h=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).h=0,i.v=0,i.type=-1,i.obstacleValue=0,i.data=void 0,i}i(e,t);var n=e.prototype;return n.initData=function(t,i){var e=this;this.h=t,this.v=i,this.data={h:t,v:i},-1==this.type&&(this.type=Math.floor(Math.random()*c.gameLogic.blockCount)),this.node.getChildByName("icon").children.forEach((function(t){t.active=!1,t.name=="Match"+e.type&&(t.active=!0)})),this.showPos(t,i)},n.showPos=function(t,i){void 0===t&&(t=this.h),void 0===i&&(i=this.v),this.node.getChildByName("lb").active=!1},n.isInside=function(t){var i=this.node.getComponent(o).width,e=this.node.position;return Math.abs(t.x-e.x)<=i/2&&Math.abs(t.y-e.y)<=i/2},n.setSelected=function(t){this.isValid&&this.node.getChildByName("icon").children.forEach((function(i){i.active&&i.getChildByName("s")&&(i.getChildByName("s").active=t)}))},n.getMoveState=function(){return!1},n.setType=function(t){var i=this;this.isValid&&(this.type=t,this.node.getChildByName("icon").children.forEach((function(t){t.active=!1,t.name=="Match"+i.type&&(t.active=!0)})))},n.setCount=function(t){this.node.getChildByName("lb").getComponent(a).string=""+t,0==t&&(this.node.getChildByName("ok").active=!0)},n.showGou=function(t){this.node.getChildByName("gou").active=t},e}(s))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/gridManagerCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enumConst.ts","./viewNameConst.ts","./app.ts","./resLoadHelper.ts","./blockCmpt.ts"],(function(t){var r,i,e,o,n,s,a,c,l,h,u,d,p;return{setters:[function(t){r=t.inheritsLoose,i=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){o=t.cclegacy,n=t._decorator,s=t.v3,a=t.instantiate,c=t.Component},function(t){l=t.Constant},function(t){h=t.ViewName},function(t){u=t.App},function(t){d=t.ResLoadHelper},function(t){p=t.blockCmpt}],execute:function(){var f;o._RF.push({},"eb22c5yz6lMrJroha6JGvYa","gridManagerCmpt",void 0);var v=n.ccclass;n.property,t("gridManagerCmpt",v("gridManagerCmpt")(f=function(t){function o(){for(var r,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(r=t.call.apply(t,[this].concat(e))||this).blockPre=null,r.obstacleArr=[],r.blockArr=[],r.blockPosArr=[],r.H=l.layCount,r.V=l.layCount,r.rectWidth=l.Width,r.hideList=[],r}r(o,t);var n=o.prototype;return n.initGrid=function(){var t=i(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadLinePre();case 2:this.initLayout();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.loadLinePre=function(){var t=i(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.loadPieces(h.Pieces.block);case 2:this.blockPre=t.sent;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.initLayout=function(){this.hideList=u.gameLogic.hideList,this.clearData();for(var t=this.rectWidth,r=0;r<this.H;r++){this.blockArr.push([]),this.blockPosArr.push([]);for(var i=0;i<this.V;i++){var e=(t+0)*(r+0)-(t+0)*(this.H-1)/2,o=(t+0)*(i+0)-(t+0)*(this.V-1)/2,n=s(e,o,1);if(this.blockPosArr[r][i]=n,u.gameLogic.checkInHideList(r,i))this.blockArr[r][i]=null;else{var a=this.addBlock(r,i,n);this.blockArr[r][i]=a}}}this.setMapBorders()},n.setMapBorders=function(){for(var t=0;t<this.H;t++)for(var r=0;r<this.V;r++){var i=this.blockArr[t][r];if(i){var e=void 0,o=void 0,n=void 0,s=null;r+1<this.V&&(e=this.blockArr[t][r+1]),r-1>=0&&(o=this.blockArr[t][r-1]),t-1>=0&&(n=this.blockArr[t-1][r]),t+1<this.H&&(s=this.blockArr[t+1][r]),i.getComponent(p).handleBorders(e,o,n,s)}}},n.addBlock=function(t,r,i){void 0===i&&(i=null);var e=a(this.blockPre);return this.node.addChild(e),e.getComponent(p).initData(t,r),i&&e.setPosition(i),e},n.clearData=function(){if(!(this.blockArr.length<1)){for(var t=0;t<this.H;t++)for(var r=0;r<this.V;r++){var i=this.blockArr[t][r];i&&i.destroy()}this.obstacleArr.forEach((function(t){return t.destroy()})),this.obstacleArr=[],this.blockArr=[],this.blockPosArr=[]}},o}(c))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/gridTargetCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventName.ts","./app.ts"],(function(t){var o,e,n,i,s,r,a,h;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.UITransform,s=t.Vec3,r=t.Component},function(t){a=t.EventName},function(t){h=t.App}],execute:function(){var c;e._RF.push({},"2dcbfYYRnVNMaVm4hipMIuR","gridTargetCmpt",void 0);var u=n.ccclass;n.property,t("gridTargetCmpt",u("gridTargetCmpt")(c=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).originPos=null,o.isStart=!1,o}o(e,t);var n=e.prototype;return n.onLoad=function(){h.event.on(a.Game.TouchStart,this.evtTouchStart,this),h.event.on(a.Game.TouchMove,this.evtTouchMove,this),h.event.on(a.Game.TouchEnd,this.evtTouchEnd,this)},n.onDestroy=function(){h.event.offAll(this)},n.evtTouchStart=function(t){if(!this.isStart){var o=this.node.parent.getComponent(i).convertToNodeSpaceAR(new s(t.x,t.y,1));this.originPos=this.node.getPosition();var e=this.node.getComponent(i);Math.abs(o.x-this.originPos.x)<=e.width/2&&Math.abs(o.y-this.originPos.y)<=e.height/2&&(h.audio.play("block_back"),this.isStart=!0,o.y+=200,this.node.setPosition(o),this.node.setScale(new s(1,1,1)))}},n.evtTouchMove=function(t){if(this.isStart){var o=this.node.parent.getComponent(i).convertToNodeSpaceAR(new s(t.x,t.y,1));o.y+=200,this.node.setPosition(o)}},n.evtTouchEnd=function(t){this.isStart&&(h.event.emit(a.Game.GuildEvent,new s(t.x,t.y+100,1)),console.log(this.node.position.x),console.log(this.node.position.y),Math.abs(this.node.position.x)<35&&Math.abs(this.node.position.y)<35?this.node.setPosition(new s(0,0,0)):(this.node.setPosition(this.originPos),this.node.setScale(new s(.6,.6,.6))),this.isStart=!1)},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/homeViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./scrollViewCmpt.ts","./eventName.ts","./levelConfig.ts","./viewNameConst.ts","./app.ts","./cocosHelper.ts","./globalFuncHelper.ts","./advertise.ts"],(function(e){var t,i,n,o,s,a,c,l,h,r,g,u,p,f,v,w;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,a=e.PageView,c=e.v2},function(e){l=e.BaseViewCmpt},function(e){h=e.ScrollViewCmpt},function(e){r=e.EventName},function(e){g=e.LevelConfig},function(e){u=e.ViewName},function(e){p=e.App},function(e){f=e.CocosHelper},function(e){v=e.GlobalFuncHelper},function(e){w=e.Advertise}],execute:function(){var m;o._RF.push({},"dce1ezTsDVBIbtvkkKPn7oJ","homeViewCmpt",void 0);var d=s.ccclass,V=(s.property,function(e){return e[e.shop=0]="shop",e[e.rank=1]="rank",e[e.home=2]="home",e[e.share=3]="share",e[e.setting=4]="setting",e}(V||{}));e("homeViewCmpt",d("homeViewCmpt")(m=function(e){function o(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).scrollview=null,t.btnNode=null,t.localBtn=null,t.home=null,t.pageView=null,t.isStart=!1,t.pageTime=.5,t.head=null,t.lbCoin=null,t.lbLife=null,t.PagesName={0:"shopBtn",1:"rankBtn",2:"homeBtn",3:"shareBtn",4:"settingBtn"},t}t(o,e);var s=o.prototype;return s.onLoad=function(){e.prototype.onLoad.call(this),this.btnNode=this.viewList.get("bottom/btn"),this.pageView=this.viewList.get("page").getComponent(a),this.home=this.viewList.get("page/view/content/home"),this.lbLife=this.viewList.get("page/view/content/home/top/life/lbLife"),this.lbCoin=this.viewList.get("page/view/content/home/top/coin/lbCoin"),this.head=this.viewList.get("page/view/content/home/top/head"),this.localBtn=this.viewList.get("page/view/content/home/localBtn"),this.localBtn.active=!1,this.scrollview=this.viewList.get("page/view/content/home/scrollview").getComponent(h),this.scrollview.node.on("scroll-to-top",this.scrollingToTop,this),p.event.on(r.Game.UpdataGold,this.initData,this),p.event.on(r.Game.Scrolling,this.evtScrolling,this),p.event.on(r.Game.Scrolling,this.evtScrolling,this),p.event.on(r.Game.GotoShop,this.evtGotoShop,this),this.pageView.node.on("page-turning",this.evtPageView,this)},s.onDestroy=function(){e.prototype.onDestroy.call(this),p.event.off(r.Game.UpdataGold,this)},s.loadExtraData=function(){var e=i(n().mark((function e(t,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===i&&(i=2),p.view.closeView(u.Single.eLoadingView),p.view.closeView(u.Single.eGameView),p.view.closeView(u.Single.eAcrossView),this.isStart=t,this.pageView.getPages().forEach((function(e,t){e.active=t==i})),console.log("this.PagesName[`${pageIndex}`]   "+this.PagesName[""+i]),this.showSelectedBtn(this.PagesName[""+i]),this.initData(),w.showBannerAds();case 10:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}(),s.initData=function(){var e=i(n().mark((function e(){var t,i,o,s,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.home.active){e.next=2;break}return e.abrupt("return");case 2:for(t=[],i=g.getCurLevel(),o=Math.ceil(i/8)+4,s=o;s>=1;s--)t.push(s);this.scrollview.content.removeAllChildren(),this.scrollview.initData({list:t,target:this}),a=this.scrollview.getMaxScrollOffset().y,this.scrollview.scrollToOffset(c(0,a-1024*Math.floor(i/8)),1),this.continueGame(),this.setHomeInfo();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.setHomeInfo=function(){f.updateUserHeadSpriteAsync(this.head,p.user.rankData.icon),f.updateLabelText(this.lbCoin,v.getGold()),f.updateLabelText(this.lbLife,v.getHeart())},s.continueGame=function(){this.isStart&&this.scheduleOnce((function(){var e=p.gameLogic.curLevel;p.view.openView(u.Single.eChallengeView,e)}),1)},s.evtScrolling=function(e){var t=this.scrollview.getScrollOffset().y,i=this.scrollview.getMaxScrollOffset().y,n=p.gameLogic.curLevel,o=i-1024*Math.floor(n/8),s=Math.abs(t-o);this.localBtn.active=s>1300},s.scrollingToTop=function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.view.showMsgTips("先完成前面关卡即可解锁更多关卡");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.onClick_localBtn=function(){p.audio.play("button_click");var e=this.scrollview.getMaxScrollOffset().y,t=p.gameLogic.curLevel;this.scrollview.scrollToOffset(c(0,e-1024*Math.floor(t/8)),1),this.localBtn.active=!1},s.onClick_head=function(){p.audio.play("button_click"),this.showSelectedBtn("settingBtn"),this.pageView.getPages().forEach((function(e,t){e.active=t==V.setting}))},s.evtGotoShop=function(){this.showSelectedBtn("shopBtn"),this.pageView.getPages().forEach((function(e,t){e.active=t==V.shop}))},s.onClick_settingBtn=function(e){p.audio.play("button_click"),this.showSelectedBtn(e.name),this.pageView.getPages().forEach((function(e,t){e.active=t==V.setting})),this.pageView.scrollToPage(V.setting,this.pageTime)},s.onClick_shopBtn=function(e){p.audio.play("button_click"),this.showSelectedBtn(e.name),this.pageView.getPages().forEach((function(e,t){e.active=t==V.shop})),this.pageView.scrollToPage(V.shop,this.pageTime)},s.onClick_homeBtn=function(e){p.audio.play("button_click"),this.showSelectedBtn(e.name),this.pageView.getPages().forEach((function(e,t){e.active=t==V.home})),this.pageView.scrollToPage(V.home,this.pageTime),this.scrollview.content.children.length<1&&this.initData()},s.onClick_rankBtn=function(e){p.audio.play("button_click"),this.showSelectedBtn(e.name),this.pageView.getPages().forEach((function(e,t){e.active=t==V.rank})),this.pageView.scrollToPage(V.rank,this.pageTime)},s.onClick_shareBtn=function(e){p.audio.play("button_click"),this.showSelectedBtn(e.name),this.pageView.getPages().forEach((function(e,t){e.active=t==V.share})),this.pageView.scrollToPage(V.share,this.pageTime)},s.showSelectedBtn=function(e){this.btnNode.children.forEach((function(t){t.getChildByName("s").active=e==t.name,t.getChildByName("n").active=e!=t.name}))},s.evtPageView=function(e){2==e.getCurrentPageIndex()&&this.setHomeInfo()},s.onClick_sharePageBtn=function(){p.audio.play("button_click"),p.event.emit(r.Game.Share,g.getCurLevel())},o}(l))||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/i18nLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts"],(function(t){var e,n,i,r,o,s,a,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Label,c=t.Component},function(t){u=t.App}],execute:function(){var l,p,f,y;o._RF.push({},"72823QIvrVMdbnG1sP5lN1F","i18nLabel",void 0);var h=s.ccclass,b=s.property;t("default",(l=b({tooltip:"语言文件中的key"}),h((y=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"i18nKey",y,r(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){u.i18n.register(this),this.reset()},o.onDestroy=function(){u.i18n.unregister(this)},o.setText=function(t){this.i18nKey=t,u.i18n.setText(this.getComponent(a),this.i18nKey)},o.reset=function(){this.setText(this.i18nKey)},e}(c)).prototype,"i18nKey",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/i18nManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18nLabel.ts","./i18nSprite.ts","./logHelper.ts","./resLoadHelper.ts","./singletonClass.ts"],(function(n){var t,e,r,a,o,i,s,u,c,f,g,p,l,h,d;return{setters:[function(n){t=n.inheritsLoose,e=n.createForOfIteratorHelperLoose,r=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){o=n.cclegacy,i=n.isValid,s=n.Label,u=n.JsonAsset,c=n.SpriteFrame},function(n){f=n.default},function(n){g=n.default},function(n){p=n.PrintLog,l=n.PrintError},function(n){h=n.ResLoadHelper},function(n){d=n.SingletonClass}],execute:function(){o._RF.push({},"e51239DgeNLz4Jdkvw+nGLs","i18nManager",void 0);n("I18nManager",function(n){function o(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))||this).curLang="cn",t.textComponent=[],t.imgComponent=[],t.textConfig=null,t.replaceArr=["data1","data2","data3","data4","data5","data6","data7","data8"],t}t(o,n);var d=o.prototype;return d.onInit=function(){var n=r(a().mark((function n(t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),d.setLanguage=function(n){this.curLang=n,this.updateLanguage()},d.loadLuanguageCfg=function(){var n=r(a().mark((function n(){var t=this;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(r(a().mark((function n(e){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.loadCommonAssetSync("config/language",u);case 2:r=n.sent,p(r.json),t.textConfig=new Map(r.json),t.updateLanguage(),e("");case 7:case"end":return n.stop()}}),n)})))));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d.onDestroy=function(){this.textComponent.length=0,this.imgComponent.length=0,this.textConfig.clear()},d.updateLanguage=function(){for(var n,t=e(this.textComponent);!(n=t()).done;){var r=n.value.getComponent(f);i(r)&&i(r.node)&&r.reset()}for(var a,o=e(this.imgComponent);!(a=o()).done;){var s=a.value.getComponent(g);i(s)&&i(s.node)&&s.reset()}},d.register=function(n){if(i(n)){var t=n.getComponent(s)?this.textComponent:this.imgComponent;-1===t.indexOf(n)&&t.push(n)}},d.unregister=function(n){if(i(n)){var t=n instanceof s?this.textComponent:this.imgComponent,e=t.indexOf(n);-1!==e&&t.splice(e,1)}},d.getString=function(n){var t=this;if(!this.textConfig)return"";var e=this.textConfig.get(n);if(!e)return console.warn("i18nMgr.getString("+n+") is error."),"";for(var r=e[this.curLang],a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return o.forEach((function(n,e){r=r.replace(t.replaceArr[e],n)})),r},d.setText=function(){var n=r(a().mark((function n(t,e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.textConfig){n.next=3;break}return n.next=3,this.loadLuanguageCfg();case 3:t&&(t.string=this.getString(e));case 4:case"end":return n.stop()}}),n,this)})));return function(t,e){return n.apply(this,arguments)}}(),d.setSprite=function(){var n=r(a().mark((function n(t,e){var r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="i18n/"+t,n.next=3,h.loadCommonAssetSync(r,c);case 3:if(o=n.sent){n.next=7;break}return l("i18n not SpriteFrame = "+r),n.abrupt("return");case 7:e(o);case 8:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),d.getLanguage=function(){return this.curLang},o}(d));o._RF.pop()}}}));

System.register("chunks:///_virtual/i18nSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts"],(function(t){var e,r,i,n,o,s,a,u,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,a=t._decorator,u=t.Sprite,c=t.Component},function(t){l=t.App}],execute:function(){var p,f,h,g,y,d;s._RF.push({},"ed5b9yRf65BYrlBYyt6wEwZ","i18nSprite",void 0);var m=a.ccclass,v=a.property;t("default",(p=v({tooltip:"资源路径"}),f=v({tooltip:"是否都合并到一起"}),m((y=e((g=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"url",y,n(e)),i(e,"mergeI18n",d,n(e)),e}r(e,t);var s=e.prototype;return s.onLoad=function(){l.i18n.register(this),this.reset(),this.node.active=!this.isMerge},s.onDestroy=function(){l.i18n.unregister(this)},s.setPath=function(t){this.url=t;var e=this.getComponent(u);e&&l.i18n.setSprite(t,(function(t){t&&(e.spriteFrame=t)}))},s.reset=function(){this.setPath(this.url)},o(e,[{key:"isMerge",get:function(){return this.mergeI18n}}]),e}(c)).prototype,"url",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=e(g.prototype,"mergeI18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=g))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/iosPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./nativePlatform.ts"],(function(n){var t,o,e;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy},function(n){e=n.NativePlatform}],execute:function(){o._RF.push({},"0f9bd2G/GhMsbDAom239Gwb","iosPlatform",void 0);n("IosPlatform",function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var e=o.prototype;return e.getUUid=function(){return""},e.changeOrientation=function(t){n.prototype.changeOrientation.call(this,t)},e.savePictureToAlbum=function(n){},e.copyToClipboard=function(n){},e.getClipboardContent=function(){return new Promise((function(n){n("")}))},e.getPackageName=function(){return new Promise((function(n){n("")}))},e.getAppVersion=function(){return""},e.checkIsEmulator=function(){return!1},e.sendNativeMsg=function(n,t){throw new Error("Method not implemented.")},e.receiveNativeMsg=function(n,t){throw new Error("Method not implemented.")},e.faceBookLogin=function(){return""},e.faceBookLoginOut=function(){return!1},e.loginGoogle=function(){return""},e.loginOutGoogle=function(){return!1},e.faceBookShare=function(n){return!1},e.whatsAppShare=function(n){return!1},o}(e));o._RF.pop()}}}));

System.register("chunks:///_virtual/levelConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./resLoadHelper.ts","./storageHelper.ts"],(function(e){var t,n,r,a,u,o,i,s;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e.JsonAsset},function(e){u=e.App},function(e){o=e.ResLoadHelper},function(e){i=e.StorageHelper,s=e.StorageHelperKey}],execute:function(){r._RF.push({},"6a5afnhfjdG+bGgTJol9IOX","levelConfig",void 0);e("LevelConfig",new(function(){function e(){}var r=e.prototype;return r.nextLevel=function(){var e=+this.getCurLevel();i.setData(s.Level,e+1),u.gameLogic.curLevel=e+1},r.getCurLevel=function(){return+i.getData(s.Level,1)},r.getLevelData=function(){var e=t(n().mark((function e(t){var r,a,u,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGridData(t);case 2:for(r=e.sent,a=[],u=0;u<r.mapData[0].m_id.length;u++)(o=r.mapData[0].m_id[u])>5&&(r.mapData[0].m_id[u]=this.handleIdArr(o)),a.indexOf(r.mapData[0].m_id[u])<0&&a.push(r.mapData[0].m_id[u]);return r.mapData[0].m_id=a,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.handleIdArr=function(e){return{50:0,51:1,100:2,201:3,208:4,420:0,400:1,404:2,409:3,410:4,411:0,412:1,413:2,415:3,416:4,417:0,418:1,423:2}[""+e]||0},r.getGridData=function(){var e=t(n().mark((function e(t){var r,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t>1700&&(t=1700),e.next=3,o.loadCommonAssetSync("config/"+t,a);case 3:return r=e.sent,u=r.json,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.setLevelStar=function(e,t){i.setData(s.Star+e,t)},r.getLevelStar=function(e){return+i.getData(s.Star+e)},e}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/loadingViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./viewNameConst.ts","./app.ts","./audioManager.ts","./cocosHelper.ts","./resLoadHelper.ts"],(function(e){var t,o,n,r,i,s,a,p,c,u,l,d;return{setters:[function(e){t=e.inheritsLoose,o=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e._decorator,s=e.UITransform},function(e){a=e.BaseViewCmpt},function(e){p=e.ViewName},function(e){c=e.App},function(e){u=e.SoundType},function(e){l=e.CocosHelper},function(e){d=e.ResLoadHelper}],execute:function(){var h;r._RF.push({},"6e08ewpp+dDfJKiZzTsPKh3","loadingViewCmpt",void 0);var f=i.ccclass;e("loadingViewCmpt",f("loadingViewCmpt")(h=function(e){function r(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).spPro=null,t.spProWidth=0,t.lbPro=null,t}t(r,e);var i=r.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this),this.lbPro=this.viewList.get("lbPro"),this.spPro=this.viewList.get("spPro"),this.spProWidth=this.spPro.getComponent(s).width,this.spPro.getComponent(s).width=0,l.updateLabelText(this.lbPro,"Loading... 0.00%",!1),this.startLoadResources(),c.audio.play("background",u.Music,!0)},i.startLoadResources=function(){var e=this;d.preloadPath(["./prefab/ui/acrossView","./prefab/ui/homeView","./prefab/ui/gameView"],(function(t,o,n){var r=(t/o*100).toFixed(2)+"%";e.spPro&&(e.spPro.getComponent(s).width=t/o*e.spProWidth,l.updateLabelText(e.lbPro,"Loading... "+r,!1))}),o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.scheduleOnce((function(){c.view.openView(p.Single.eAcrossView)}),1);case 1:case"end":return t.stop()}}),t)}))),o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))},r}(a))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/logHelper.ts",["cc","./globalFuncHelper.ts"],(function(r){var t,n,o;return{setters:[function(r){t=r.cclegacy,n=r.js},function(r){o=r.GlobalFuncHelper}],execute:function(){t._RF.push({},"47d63LVxThPM7D5WLhtj0lY","logHelper",void 0);var e=new(function(){function r(){this.Is_Print_Log=!0}var t=r.prototype;return t.printLog=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var l="log:  "+JSON.stringify(Array.prototype.slice.call(arguments));if(o.pushDebugInfo(l),e.Is_Print_Log){var c=console.log||print;c.call(this,"%c%s"+JSON.stringify(Array.prototype.slice.call(arguments)),"color:#857F7F;",r.stack(2))}},t.printNet=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var l="<color=#ff00ff>net:  "+JSON.stringify(Array.prototype.slice.call(arguments))+"</c>";if(o.pushDebugInfo(l),e.Is_Print_Log){var c=console.log||print;c.call(this,"%c%s"+JSON.stringify(Array.prototype.slice.call(arguments)),"color:#00D1FF;",r.stack(2))}},t.printError=function(){for(var t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];var c="<color=#ff0000>err:  "+i+"</c>";if(o.pushDebugInfo(c),e.Is_Print_Log){var s=console.log||print;s.call(this,"%c%s"+n.formatStr.apply(cc,arguments),"color:red",r.stack(2)),console.error("error trace")}},t.getDateString=function(){var r=new Date,t="",n=String(r.getFullYear());return t+=n+"-",t+=(n=String(r.getMonth()))+"-",t+=(n=String(r.getDay()))+" ",t+=(1==(n=String(r.getHours())).length?"0"+n:n)+":",t+=(1==(n=String(r.getMinutes())).length?"0"+n:n)+":",t="["+(t+=(1==(n=String(r.getSeconds())).length?"0"+n:n)+"")+"]"},r.stack=function(r){var t=(new Error).stack.split("\n");t.shift();var n=[];t.forEach((function(r){var t,o=(r=r.substring(7)).split(" ");o.length<2?n.push(o[0]):n.push(((t={})[o[0]]=o[1],t))}));var o=[];if(r<n.length-1)for(var e in n[r])o.push(e);var i=o[0].split(".");return i[0]+"->"+i[1]+": "},r}());r("PrintLog",e.printLog),r("PrintNet",e.printNet),r("PrintError",e.printError);t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./baseNodeCmpt.ts","./baseViewCmpt.ts","./i18nLabel.ts","./i18nSprite.ts","./prefabPool.ts","./rotateSelf.ts","./scrollItemCmpt.ts","./scrollViewCmpt.ts","./cameraCmpt.ts","./enumConst.ts","./eventName.ts","./levelConfig.ts","./modleNameConst.ts","./rankConfig.ts","./viewNameConst.ts","./app.ts","./audioManager.ts","./eventManager.ts","./i18nManager.ts","./noticeManager.ts","./platformManager.ts","./singletonClass.ts","./subGameManager.ts","./timeManager.ts","./userInfo.ts","./viewManager.ts","./DyManager.ts","./screenRayCmpt.ts","./gameLogic.ts","./mainCmpt.ts","./tileCmpt.ts","./characterCmpt.ts","./startCmpt.ts","./acrossViewCmpt.ts","./buyViewCmpt.ts","./challengeViewCmpt.ts","./gameViewCmpt.ts","./gridManagerCmpt.ts","./homeViewCmpt.ts","./blockCmpt.ts","./gridCmpt.ts","./gridTargetCmpt.ts","./mapCmpt.ts","./rankItemCmpt.ts","./rocketCmpt.ts","./loadingViewCmpt.ts","./rankCmpt.ts","./resultViewCmpt.ts","./settingViewCmpt.ts","./tipsViewCmpt.ts","./dataviewUtils.ts","./err.ts","./globalUtils.ts","./net.ts","./routers.ts","./util.ts","./cocosHelper.ts","./globalFuncHelper.ts","./logHelper.ts","./androidPlatform.ts","./basePlatform.ts","./iosPlatform.ts","./nativePlatform.ts","./webPlatform.ts","./resLoadHelper.ts","./storageHelper.ts","./toolsHelper.ts","./advertise.ts","./wxManager.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseNodeCmpt.ts","./enumConst.ts","./eventName.ts","./levelConfig.ts","./viewNameConst.ts","./app.ts"],(function(e){var t,n,i,o,a,r,c,s,u,p,v,l,m,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Node,s=e.input,u=e.Input},function(e){p=e.BaseNodeCmpt},function(e){v=e.Direction},function(e){l=e.EventName},function(e){m=e.LevelConfig},function(e){f=e.ViewName},function(e){d=e.App}],execute:function(){var y,C,h,g,w;a._RF.push({},"d77436CXCBN8qV/PO2/BFVK","mainCmpt",void 0);var L=r.ccclass,N=r.property;e("mainCmpt",(y=L("mainCmpt"),C=N(c),y((w=t((g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"canvase",w,o(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),d.init(this.canvase),this.initView(),this.connectServer()},a.addEvent=function(){s.on(u.EventType.KEY_DOWN,this.evtKeyDown,this),s.on(u.EventType.KEY_UP,this.evtKeyUp,this)},a.initView=function(){d.gameLogic.curLevel=m.getCurLevel(),d.view.openView(f.Single.eLoadingView)},a.evtKeyDown=function(e){68==e.keyCode&&d.event.emit(l.Game.Move,v.right),65==e.keyCode&&d.event.emit(l.Game.Move,v.left),87==e.keyCode&&d.event.emit(l.Game.Move,v.up),83==e.keyCode&&d.event.emit(l.Game.Move,v.down)},a.evtKeyUp=function(e){d.event.emit(l.Game.EndMove)},a.connectServer=function(){},t}(p)).prototype,"canvase",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/mapCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scrollItemCmpt.ts","./levelConfig.ts","./viewNameConst.ts","./app.ts","./cocosHelper.ts"],(function(e){var t,i,o,a,n,c,r,l,s,p,v;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,o=e._decorator,a=e.Sprite,n=e.UITransform,c=e.v3},function(e){r=e.default},function(e){l=e.LevelConfig},function(e){s=e.ViewName},function(e){p=e.App},function(e){v=e.CocosHelper}],execute:function(){var u;i._RF.push({},"d426dp/1rBAp4Y33skK/g5G","mapCmpt",void 0);var h=o.ccclass;o.property,e("mapCmpt",h("mapCmpt")(u=function(e){function i(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).index=0,t.local=null,t}t(i,e);var o=i.prototype;return o.onLoad=function(){for(var t=1;t<9;t++)this["onClick_"+t]=this.onClick_Item.bind(this);e.prototype.onLoad.call(this),this.local=this.viewList.get("local")},o.initData=function(e){var t=null;this.node.children.forEach((function(i){var o=e%8;0==o&&(o=8),i.active=i.name=="map"+o,i.active&&(t=i)}));var i=p.gameLogic.curLevel;this.index=e;for(var o=1;o<9;o++){var n=t.getChildByName(""+o),c=8*(e-1)+o;v.updateLabelText(n.getChildByName("lv"),8*(e-1)+o),n.getComponent(a).grayscale=c>i,this.handleStar(n,c)}},o.handleStar=function(e,t){for(var i=p.gameLogic.curLevel,o=+l.getLevelStar(t)||0,a=t<=i&&o>0,r=1;r<4;r++)e.getChildByName("star"+r).active=a;if(a)for(var s=1;s<4;s++)e.getChildByName("star"+s).getChildByName("s").active=s<=o;if(t==i){var v=this.node.getComponent(n).convertToNodeSpaceAR(e.worldPosition);this.local.active=!0,this.local.setPosition(c(v.x,v.y+60,1))}},o.onClick_Item=function(e){p.audio.play("button_click");var t=p.gameLogic.curLevel,i=8*(this.index-1)+ +e.name;i>t?p.view.showMsgTips("请先完成前面的关卡"):p.view.openView(s.Single.eChallengeView,i)},i}(r))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/modleNameConst.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var o,n,c;e("ModleNameConst",void 0),t._RF.push({},"3b8168Bp4tLiJOWyyhLQpSH","modleNameConst",void 0),n=o||(o=e("ModleNameConst",{})),c=function(e){return e.map="map",e.t3dNode="3d",e}({}),n.modle=c,t._RF.pop()}}}));

System.register("chunks:///_virtual/nativePlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./basePlatform.ts"],(function(e){var o,t,a;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy},function(e){a=e.BasePlatform}],execute:function(){t._RF.push({},"2ada30nhNlOw6+KiODWW115","nativePlatform",void 0);e("Native_Operation",function(e){return e.GetUUid="GetUUid",e.ChangeOrientation="ChangeOrientation",e.SavePicture="SavePicture",e.CopyToClipboard="CopyToClipboard",e.GetClipboardContent="GetClipboardContent",e.GetPackageName="GetPackageName",e.GetAppVersion="GetAppVersion",e.CheckIsEmulator="CheckIsEmulator",e.FaceBookLogin="FaceBookLogin",e.FaceBookOut="FaceBookOut",e.FaceBookShare="FaceBookShare",e.WhatsAppShare="WhatsAppShare",e.LoginGoogle="LoginGoogle",e.LoginOutGoogle="LoginOutGoogle",e}({})),e("NativePlatform",function(e){function t(){for(var o,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(o=e.call.apply(e,[this].concat(a))||this).isPortrait=!1,o}o(t,e);var a=t.prototype;return a.loadGame=function(e){return new Promise((function(e){e("")}))},a.savePicture=function(e){},t}(a));t._RF.pop()}}}));

System.register("chunks:///_virtual/net.ts",["cc","./dataviewUtils.ts","./routers.ts","./util.ts","./app.ts","./eventName.ts"],(function(t){var n,e,i,s;return{setters:[function(t){n=t.cclegacy},function(t){e=t.default},function(t){i=t.Router},null,function(t){s=t.App},null],execute:function(){n._RF.push({},"0f807Aev9dEYZPT86jjSz6L","net",void 0);var o=t("default",function(){function t(){this.socket=null,this.id=0,this.serverType=0,this.isConnected=!1,this._isConnecting=!1}var n=t.prototype;return n.init=function(t){},n.breakConnect=function(){},n.handleRecvdate=function(t,n){s.event.emit(t.router,n)},n.sendMsg=function(t,n){console.log("------------------sendData------------------"),console.log(t,n);var i=e.encoding(this.id,this.serverType,Number(n),t);this.socket.send(i)},n.reconnect=function(t){this.init((function(){var t={name:s.user.rankData.name};c.sendMsg(t,i.rut_login)}))},t}()),c=t("Net",new o);n._RF.pop()}}}));

System.register("chunks:///_virtual/noticeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singletonClass.ts"],(function(n){var e,t,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){i=n.SingletonClass}],execute:function(){t._RF.push({},"b82e02aUeRK3olcbikDGuqv","noticeManager",void 0);n("NoticeManager",function(n){function t(){return n.apply(this,arguments)||this}return e(t,n),t}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/platformManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singletonClass.ts","./toolsHelper.ts"],(function(t){var r,n,o,e,a,u;return{setters:[function(t){r=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){e=t.cclegacy},function(t){a=t.SingletonClass},function(t){u=t.ToolsHelper}],execute:function(){e._RF.push({},"bb726cfaqRBCKlkDmkl3WnO","platformManager",void 0);t("PlatformManager",function(t){function e(){for(var r,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(r=t.call.apply(t,[this].concat(o))||this).curPlatform=void 0,r}r(e,t);var a=e.prototype;return a.onInit=function(){var t=n(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.getPlatform=function(){},a.loadGame=function(t){return this.curPlatform.loadGame(t)},a.getUUid=function(){return this.curPlatform.getUUid()},a.changeOrientation=function(t){return this.curPlatform.changeOrientation(t)},a.savePicture=function(t){},a.shootBackground=function(t,r,n){return this.curPlatform.shootBackground(t,r,n)},a.copyToClipboard=function(t){return this.curPlatform.copyToClipboard(t)},a.getClipboardContent=function(){var t=n(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.curPlatform.getClipboardContent(r);case 2:return n=t.sent,n=u.matchClipboardContent(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),a.getPackageName=function(){return this.curPlatform.getPackageName()},a.getAppVersion=function(){return this.curPlatform.getAppVersion()},a.checkIsEmulator=function(){return this.curPlatform&&this.curPlatform.checkIsEmulator()},a.sendNativeMsg=function(t,r){return this.curPlatform.sendNativeMsg(t,r)},a.receiveNativeMsg=function(t,r){return this.curPlatform.receiveNativeMsg(t,r)},a.faceBookLogin=function(){return this.curPlatform.faceBookLogin()},a.faceBookLoginOut=function(){return this.curPlatform.faceBookLoginOut()},a.loginGoogle=function(){return this.curPlatform.loginGoogle()},a.faceBookShare=function(t){return this.curPlatform.faceBookShare(t)},a.whatsAppShare=function(t){return this.curPlatform.whatsAppShare(t)},a.loginOutGoogle=function(){return this.curPlatform.loginOutGoogle()},e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/prefabPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resLoadHelper.ts"],(function(t){var e,o,i,n,r,s,a;return{setters:[function(t){e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,n=t._decorator,r=t.NodePool,s=t.instantiate},function(t){a=t.ResLoadHelper}],execute:function(){var u;i._RF.push({},"95009wXWIlFf4m2ggINQca5","prefabPool",void 0);var p=n.ccclass;n.property,t("PrefabPool",p(u=function(){function t(){this.cmpt=void 0,this._poolSize=10,this._pool=void 0,this._preUrl=void 0,this._preNode=void 0,this._nodeName=void 0,this._init=!1}var i=t.prototype;return i.initPool=function(){var t=e(o().mark((function t(e,i,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.clean(),this._preUrl=e,t.next=4,a.loadPrefabSync(e);case 4:if(r=t.sent){t.next=7;break}return t.abrupt("return");case 7:r.addRef(),this._preNode=r,this._nodeName=r.name,n&&(this.cmpt=n),this.initPoolSize(i),this._init=!0;case 13:case"end":return t.stop()}}),t,this)})));return function(e,o,i){return t.apply(this,arguments)}}(),i.initPoolSize=function(t){t>0&&(this._poolSize=t),this.cmpt?this._pool=new r(this.cmpt):this._pool=new r;for(var e=0;e<this._poolSize;e++){var o=this.buildNode();this._pool.put(o)}},i.getNode=function(){var t=e(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._init){t.next=3;break}return t.next=3,a.loadPrefabSync(this._preUrl);case 3:return t.abrupt("return",this.syncGetNode());case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.syncGetNode=function(){var t,e;if(this._pool.size()<=0){var o=this.buildNode();this.putNode(o)}this._pool.size()>0&&(t=(e=this._pool).get.apply(e,arguments));return t||null},i.putNode=function(t){this._pool.put(t)},i.poolSize=function(){return this._pool.size()},i.clean=function(){this._pool&&this._pool.clear(),this._preNode&&(this._preNode.decRef(),this._preNode=null)},i.buildNode=function(){return s(this._preNode)},i.getNodeName=function(){return this._nodeName},t}())||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/rankCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./scrollViewCmpt.ts","./levelConfig.ts","./rankConfig.ts","./app.ts","./globalFuncHelper.ts"],(function(t){var n,e,i,o,l,r,s,a,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.BaseViewCmpt},function(t){l=t.ScrollViewCmpt},function(t){r=t.LevelConfig},function(t){s=t.RankConfig},function(t){a=t.App},function(t){c=t.GlobalFuncHelper}],execute:function(){var u;e._RF.push({},"98c94SPemNDPI6fxQMIl+TX","rankCmpt",void 0);var p=i.ccclass;i.property,t("RankCmpt",p("rankCmpt")(u=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).scrollView=null,n}n(e,t);var i=e.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),this.scrollView=this.viewList.get("rankScroll").getComponent(l),this.initData()},i.initData=function(){this.evtRankList(null)},i.evtRankList=function(t){var n=[],e={star:c.getGold(),id:0,level:r.getCurLevel(),icon:c.getIcon(),name:a.user.rankData.name,time:"",rank:0};n.push(e),this.setRankList(n)},i.setRankList=function(t){var n=s.data;t&&(n=n.concat(t)),n.sort((function(t,n){return-t.level+n.level}));for(var e=0;e<n.length;e++)n[e].rank=e+1;this.scrollView||(this.scrollView=this.viewList.get("rankScroll").getComponent(l)),this.scrollView.initData({list:n,target:this}),this.scrollView.scrollToTop(1)},e}(o))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/rankConfig.ts",["cc"],(function(e){var l;return{setters:[function(e){l=e.cclegacy}],execute:function(){l._RF.push({},"da5eer+RFBMrpOXdqjyKOet","rankConfig",void 0);e("RankConfig",new function(){this.data=[{id:1,name:"专业挖墙角",level:11,gold:14,star:3,icon:3},{id:2,name:"兎孒菈菈℡",level:12,gold:15,star:14,icon:7},{id:3,name:"不爱了丶一切解释都是多余",level:13,gold:16,star:15,icon:2},{id:4,name:"天涯残月",level:14,gold:17,star:16,icon:5},{id:5,name:"将妓就计",level:15,gold:18,star:17,icon:6},{id:6,name:"情如薄纱",level:16,gold:19,star:18,icon:8},{id:7,name:"熊孩子他爹",level:17,gold:20,star:19,icon:7},{id:8,name:"輿你相遇更美年華",level:18,gold:21,star:110,icon:5},{id:9,name:"蝶恋花つ",level:19,gold:22,star:111,icon:8},{id:10,name:"不美不萌照样拽",level:20,gold:23,star:112,icon:1},{id:11,name:"好男人,爸妈造",level:21,gold:24,star:113,icon:2},{id:12,name:"缺烟缺酒缺女人ぃ",level:22,gold:25,star:114,icon:3},{id:13,name:"走路太妖〃小心闪腰",level:23,gold:26,star:115,icon:8},{id:14,name:"君生我未生",level:24,gold:27,star:116,icon:5},{id:15,name:"尕糖饾△",level:25,gold:28,star:117,icon:7},{id:16,name:"风声雨声叫床声",level:26,gold:29,star:118,icon:8},{id:17,name:"若爱只如初见",level:27,gold:30,star:119,icon:3},{id:18,name:"别留我孤身一人",level:28,gold:31,star:120,icon:8},{id:19,name:"好名儿都叫狗起了",level:29,gold:32,star:121,icon:8},{id:20,name:"弓虽女干",level:30,gold:22,star:122,icon:1},{id:21,name:"你不配",level:31,gold:23,star:123,icon:2},{id:22,name:"来包辣条压压惊丶",level:32,gold:24,star:124,icon:8},{id:23,name:"浮光浅夏ζ",level:33,gold:25,star:125,icon:3},{id:24,name:"孤街浪途",level:34,gold:26,star:126,icon:8},{id:25,name:"做我枕边人",level:35,gold:27,star:127,icon:7},{id:26,name:"好看好听的网络游戏名字",level:36,gold:28,star:128,icon:9},{id:27,name:"21克的爱情",level:37,gold:29,star:129,icon:8},{id:28,name:"空谷幽兰",level:38,gold:30,star:17,icon:5},{id:29,name:"南城忆潇湘",level:39,gold:31,star:17,icon:8},{id:30,name:"赱ぬ洎巳の璐",level:11,gold:32,star:18,icon:8},{id:31,name:"脚踏棺材看日落",level:11,gold:33,star:19,icon:8},{id:32,name:"骑着蜗牛拽天下",level:11,gold:34,star:10,icon:8},{id:33,name:"各自安好ぃ",level:11,gold:35,star:11,icon:5},{id:34,name:"兂法觸岌の啈冨",level:12,gold:36,star:12,icon:6},{id:35,name:"離人涙",level:13,gold:37,star:13,icon:7},{id:36,name:"清明雨上",level:14,gold:38,star:14,icon:8},{id:37,name:"夏初染ぃ夜清浅",level:15,gold:15,star:15,icon:9},{id:38,name:"墨染琉璃殇",level:16,gold:16,star:16,icon:8},{id:39,name:"此菇凉、你惹不起",level:17,gold:17,star:17,icon:8},{id:40,name:"蠢呆笨傻丑",level:18,gold:18,star:18,icon:8},{id:41,name:"饮一盅浊酒",level:19,gold:19,star:19,icon:8},{id:42,name:"好看好听的网络游戏名字",level:20,gold:20,star:20,icon:8},{id:43,name:"女子",level:21,gold:21,star:21,icon:2},{id:44,name:"閉嘴←-╯",level:22,gold:22,star:22,icon:7},{id:45,name:"芙蓉姐夫(╰_╯)",level:23,gold:23,star:23,icon:3},{id:46,name:"花开の彼岸",level:24,gold:24,star:24,icon:7},{id:47,name:"茈籹子、舆尓無関",level:25,gold:25,star:25,icon:6},{id:48,name:"除了你，什么都不重要",level:26,gold:26,star:26,icon:4},{id:49,name:"氵孚夸ㄨ",level:27,gold:27,star:27,icon:1},{id:50,name:"专业挖墙角",level:28,gold:28,star:28,icon:9},{id:51,name:"輸過敗過但不曾怕過",level:29,gold:29,star:29,icon:3},{id:52,name:"ㄍ皒只是路过迩的爱情",level:30,gold:30,star:8,icon:7},{id:53,name:"先森°下个路口见",level:31,gold:31,star:8,icon:8},{id:54,name:"怀抱清风",level:100,gold:31,star:100,icon:2},{id:55,name:"一个很有粪量的人",level:80,gold:32,star:80,icon:8},{id:56,name:"墨云压城っ",level:44,gold:33,star:44,icon:8},{id:57,name:"咖啡少年不加糖っ°",level:62,gold:34,star:62,icon:3},{id:58,name:"香疏影",level:35,gold:35,star:35,icon:6},{id:59,name:"颜如玉",level:40,gold:36,star:40,icon:4},{id:60,name:"该梦归何处",level:170,gold:37,star:170,icon:3},{id:61,name:"ゞ今年欢笑乄复明年ぁ",level:211,gold:38,star:211,icon:8},{id:62,name:"华陀也医不好我的相思病",level:210,gold:15,star:210,icon:8},{id:63,name:"时隔亿光年。",level:99,gold:16,star:99,icon:9},{id:64,name:"╬═☆解读青春",level:72,gold:17,star:72,icon:3},{id:65,name:"南鱼在流浪",level:37,gold:18,star:37,icon:1},{id:66,name:"时光与猫~",level:88,gold:19,star:88,icon:8},{id:67,name:"落落清欢",level:82,gold:20,star:82,icon:6},{id:68,name:"づ墨小白",level:31,gold:21,star:31,icon:9},{id:69,name:"时光时光你慢慢走",level:57,gold:22,star:57,icon:5},{id:70,name:"心软是病,不治要命",level:78,gold:23,star:78,icon:2},{id:71,name:"谁放肆了寂寞",level:165,gold:24,star:165,icon:1},{id:72,name:"笑而不语痛而不言╮",level:76,gold:25,star:76,icon:7},{id:73,name:"心软命",level:38,gold:26,star:38,icon:5},{id:74,name:"寂寞",level:65,gold:27,star:65,icon:6},{id:null,name:"不语不言╮",level:176,gold:28,star:176,icon:8}]});l._RF.pop()}}}));

System.register("chunks:///_virtual/rankItemCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scrollItemCmpt.ts","./app.ts","./cocosHelper.ts"],(function(t){var e,i,a,n,l,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,a=t._decorator},function(t){n=t.default},function(t){l=t.App},function(t){s=t.CocosHelper}],execute:function(){var r;i._RF.push({},"0ef0ds8tatAG79n1BOwTcbF","rankItemCmpt",void 0);var c=a.ccclass;a.property,t("rankItemCmpt",c("rankItemCmpt")(r=function(t){function i(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).head=null,e.lbName=null,e.lbLevel=null,e.lbRank=null,e.lbBei=null,e}e(i,t);var a=i.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),this.head=this.viewList.get("head"),this.lbName=this.viewList.get("lbName"),this.lbRank=this.viewList.get("lbRank"),this.lbLevel=this.viewList.get("lbLevel"),this.lbBei=this.viewList.get("lbBei")},a.initData=function(t){this.viewList.get("self").active=t.name==l.user.rankData.name,s.updateLabelText(this.lbBei,t.level),s.updateLabelText(this.lbName,t.name),s.updateLabelText(this.lbLevel,t.level),s.updateLabelText(this.lbRank,t.rank),this.viewList.get("1").active=1==t.rank,this.viewList.get("2").active=2==t.rank,this.viewList.get("3").active=3==t.rank,this.viewList.get("lbRank").active=t.rank>3,s.updateUserHeadSpriteAsync(this.head,t.icon)},i}(n))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/resLoadHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./logHelper.ts"],(function(e){var r,n,t,s,u,o,a,i,c,l,f,p;return{setters:[function(e){r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){t=e.cclegacy,s=e.resources,u=e.error,o=e.assetManager,a=e.SpriteFrame,i=e.Texture2D,c=e.Prefab,l=e.AudioClip},function(e){f=e.PrintError,p=e.PrintLog}],execute:function(){t._RF.push({},"1d82ef1RPtJgrWD8FefRXfc","resLoadHelper",void 0);e("ResLoadHelper",new(function(){function e(){this.resBundle=s}var t=e.prototype;return t.setBundle=function(e){this.resBundle=e||s},t.preloadAsset=function(e,r){this.resBundle.preload(e,r)},t.preloadDir=function(e,r,n){this.resBundle.preloadDir(e,(function(e,n,t){r&&r(e,n,t)}),(function(r,t){if(r)return u("preloadDir 加载asset失败, url:"+e+", err: "+r),null;n&&n(t)}))},t.preloadPath=function(e,r,n,t){this.resBundle.preload(e,(function(e,n,t){r&&r(e,n,t)}),(function(r,s){if(r)return t&&t(r),u("preload 加载asset失败, url:"+e+", err: "+r),null;n&&n(s)}))},t.loadModle=function(){var e=r(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCommonAssetSync("modle/"+r,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),t.loadPieces=function(){var e=r(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCommonAssetSync("pieces/"+r,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),t.loadCommonAssetSync=function(){var e=r(n().mark((function e(r,t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){r=t==c?"prefab/"+r:r,t==a&&(r+="/spriteFrame"),s.load(r,t,(function(n,t){n?(f("loadCommonAssetSync 加载asset失败, url:"+r+", err: "+n),e(null)):(p(r),e(t))}))})));case 1:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),t.loadAssetSync=function(e,r){var n=this;return new Promise((function(t){n.resBundle.load(e,r,(function(r,n){r?(f("loadAssetSync 加载asset失败, url:"+e+", err: "+r),t(null)):t(n)}))}))},t.loadAssetAsync=function(e,r,n,t,s){(void 0===t&&(t=!1),t)?o.loadRemote(e,{ext:".png"},(function(r,t){if(r)return f("loadAssetAsync remote png 加载asset失败, url:"+e+", err: "+r),o.loadRemote(e,{ext:".jpg"},(function(r,t){if(r)return f("loadAssetAsync remote jpg 加载asset失败, url:"+e+", err: "+r),null;var s=new a,u=new i;u.image=t,s.texture=u,n&&n(s)})),null;var s=new a,u=new i;u.image=t,s.texture=u,n&&n(s)})):this.resBundle.load(e,r,(function(r,t){if(r)return f("loadAssetAsync 加载asset失败, url:"+e+", err: "+r),null;n&&n(t)}))},t.loadPrefabSync=function(){var e=r(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadAssetSync("prefab/"+r,c));case 1:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),t.loadAudioClipSync=function(){var e=r(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadAssetSync("sound/"+r,l));case 1:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),t.loadCommonAudioClip=function(){var e=r(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadCommonAssetSync("sound/"+r,l));case 1:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),t.releaseAsset=function(e,r){this.resBundle.release(e,r)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/resultViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./eventName.ts","./levelConfig.ts","./viewNameConst.ts","./app.ts","./globalFuncHelper.ts","./advertise.ts","./gridCmpt.ts"],(function(e){var t,i,n,o,a,s,l,r,c,u,h,v,p,d,m;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator,s=e.tween,l=e.v3},function(e){r=e.BaseViewCmpt},function(e){c=e.EventName},function(e){u=e.LevelConfig},function(e){h=e.ViewName},function(e){v=e.App},function(e){p=e.GlobalFuncHelper},function(e){d=e.Advertise},function(e){m=e.gridCmpt}],execute:function(){var f;o._RF.push({},"0f90fAEI/tN8ZvgDVfbMKdZ","resultViewCmpt",void 0);var g=a.ccclass;a.property,e("ResultViewCmpt",g("resultViewCmpt")(f=function(e){function o(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).isWin=!1,t.level=0,t.starCount=0,t.star=null,t}t(o,e);var a=o.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),this.star=this.viewList.get("animNode/win/star")},a.loadExtraData=function(){var e=i(n().mark((function e(t,i,o,a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i?v.audio.play("win"):v.audio.play("lose"),this.level=t,this.starCount=a,this.isWin=i,this.viewList.get("animNode/win").active=i,this.viewList.get("animNode/lose").active=!i,i?(u.setLevelStar(t,a),this.handleWin(o)):this.handleLose();case 7:case"end":return e.stop()}}),e,this)})));return function(t,i,n,o){return e.apply(this,arguments)}}(),a.handleLose=function(){},a.handleWin=function(e){this.viewList.get("animNode/win/target").children.forEach((function(t,i){if(e&&(t.active=i<e.length,i<e.length)){t.getComponent(m).setType(e[i][0]);var n=e[i][1];0==n?t.getComponent(m).showGou(!0):t.getComponent(m).setCount(n)}})),this.playStarAnim()},a.playStarAnim=function(){this.star.active=this.isWin;var e=this.starCount;this.isWin&&this.star.children.forEach((function(t,i){t.getChildByName("s").active=i+1<=e,t.setScale(0,0,0),s(t).to(.3*(i+1),{scale:l(1,1,1)},{easing:"backOut"}).start()}))},a.onClick_nextBtn=function(){v.audio.play("button_click"),p.setGold(v.gameLogic.rewardGold),this.level==u.getCurLevel()&&u.nextLevel(),v.view.closeView(h.Single.eGameView),v.view.openView(h.Single.eHomeView,!0),this.onClick_closeBtn()},a.onClick_shareBtn=function(){v.audio.play("button_click"),v.event.emit(c.Game.Share,v.gameLogic.curLevel),d.showVideoAds(),v.backHome()},a.onClick_continueBtn=function(){if(v.audio.play("button_click"),+p.getGold()<200){var e=u.getCurLevel();return v.event.emit(c.Game.Share,e),v.view.showMsgTips("金币不足"),void d.showVideoAds()}p.setGold(-200),v.event.emit(c.Game.UpdataGold),v.event.emit(c.Game.ContinueGame),this.onClick_closeBtn()},a.onClick_guanbiBtn=function(){this.isWin&&this.level==u.getCurLevel()&&u.nextLevel(),v.backHome(!0),e.prototype.onClick_closeBtn.call(this)},o}(r))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/rocketCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseNodeCmpt.ts","./enumConst.ts"],(function(t){var i,e,o,s,n,r,c;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,s=t.tween,n=t.v3},function(t){r=t.BaseNodeCmpt},function(t){c=t.Bomb}],execute:function(){var a;e._RF.push({},"294b8YiupBCuLH2ohWG/5Dn","rocketCmpt",void 0);var p=o.ccclass;o.property,t("rocketCmpt",p("rocketCmpt")(a=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this)},o.initData=function(t){var i=this;this.viewList.get("down").active=t==c.ver,this.viewList.get("up").active=t==c.ver,this.viewList.get("right").active=t==c.hor,this.viewList.get("left").active=t==c.hor;var e=.6;t==c.ver?(s(this.viewList.get("down")).to(e,{position:n(0,-800,1)}).start(),s(this.viewList.get("up")).to(e,{position:n(0,800,1)}).call((function(){i.node.destroy()})).start()):t==c.hor&&(s(this.viewList.get("right")).to(e,{position:n(720,0,1)}).start(),s(this.viewList.get("left")).to(e,{position:n(-720,0,1)}).call((function(){i.node.destroy()})).start())},e}(r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/rotateSelf.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,n=t.Component}],execute:function(){var c;o._RF.push({},"26798zR015DGLmi4WYgoZGU","rotateSelf",void 0);var i=r.ccclass;r.property,t("rotateSelf",i("rotateSelf")(c=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var r=o.prototype;return r.start=function(){},r.update=function(t){this.node.angle--},o}(n))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/routers.ts",["cc"],(function(t){var u;return{setters:[function(t){u=t.cclegacy}],execute:function(){u._RF.push({},"0cebfu+MAFOT7tgFDkR1Kxz","routers",void 0);t("Router",{rut_login:"1001",rut_list:"1002",rut_update:"1003"});u._RF.pop()}}}));

System.register("chunks:///_virtual/screenRayCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseNodeCmpt.ts","./eventName.ts","./app.ts"],(function(t){var n,o,e,i,c,s,a,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.input,c=t.Input},function(t){s=t.BaseNodeCmpt},function(t){a=t.EventName},function(t){r=t.App}],execute:function(){var u;o._RF.push({},"af448ZFLpFJHqF7Ke94yyTx","screenRayCmpt",void 0);var h=e.ccclass;e.property,t("screenRayCmpt",h("screenRayCmpt")(u=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).isCanDo=!1,n}n(o,t);var e=o.prototype;return e.onLoad=function(){t.prototype.onLoad.call(this)},e.start=function(){i.on(c.EventType.TOUCH_START,this.onTouchStart,this),i.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),i.on(c.EventType.TOUCH_END,this.onTouchEnd,this),i.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.onTouchStart=function(t){this.isCanDo||(this.isCanDo=!0,r.event.emit(a.Game.TouchStart,t.getUILocation()))},e.onTouchMove=function(t){this.isCanDo?r.event.emit(a.Game.TouchMove,t.getUILocation()):this.isCanDo=!0},e.onTouchEnd=function(t){this.isCanDo=!1,r.event.emit(a.Game.TouchEnd,t.getUILocation())},o}(s))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/scrollItemCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseNodeCmpt.ts"],(function(t){var o,n,e,c;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){c=t.BaseNodeCmpt}],execute:function(){var r;n._RF.push({},"9782fuZH11LWoU9aufDR7CZ","scrollItemCmpt",void 0);var i=e.ccclass;e.property,t("default",i("scrollItemCmpt")(r=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.onLoad=function(){t.prototype.onLoad.call(this),this.addEvent()},e.initData=function(){},e.addEvent=function(){},e.delEvent=function(){},n}(c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/scrollViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventName.ts","./app.ts","./scrollItemCmpt.ts"],(function(t){var e,i,o,n,r,s,a,h,l,p,c,m,g,u,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,h=t.Widget,l=t.UITransform,p=t.size,c=t.instantiate,m=t.Vec3,g=t.ScrollView},function(t){u=t.EventName},function(t){f=t.App},function(t){d=t.default}],execute:function(){var v,C,A,y,I,b;r._RF.push({},"03df9SdzGdMcbQGDTRJhBGo","scrollViewCmpt",void 0);var S=s.ccclass,w=s.property;t("ScrollViewCmpt",(v=S("scrollViewCmpt"),C=w(a),v((I=e((y=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"scrollItem",I,n(e)),o(e,"gap",b,n(e)),e.loopCount=0,e.itemArr=[],e.posArr=[],e.bottomY=-1e5,e.m_data=null,e}i(e,t);var r=e.prototype;return r.start=function(){t.prototype.start.call(this),this.node.on("scrolling",this.scrolling,this),this.scrollItem.active=!1},r.resetContentSize=function(t){var e=this.node.getComponent(h);e&&e.updateAlignment();var i=this.scrollItem.getComponent(l).height,o=t.length*(i+this.gap);this.content.getComponent(l).setContentSize(p(this.node.getComponent(l).width,o));var n=Math.ceil(this.node.getComponent(l).height/(i+this.gap)),r=t.length;this.loopCount=r>n?n:r},r.initData=function(t){var e=t.list;this.m_data=t,this.resetContentSize(e),this.itemArr.length>0&&this.itemArr.forEach((function(t){t.active=!1}));var i=this.scrollItem.getComponent(l).height;this.posArr=[];for(var o=0;o<e.length;o++){var n=-(i+this.gap)*o-(i/2+this.gap);if(this.posArr.push(n),o<=this.loopCount){var r=this.itemArr[o];r||(r=c(this.scrollItem),this.content.addChild(r),this.itemArr.push(r));var s=r.getComponent(d);r.active=!0,s&&s.initData(e[o],this.m_data.target),r.setPosition(new m(0,n,0))}}},r.updateItemInfo=function(t,e){if(t){var i=t.getComponent(d);i&&this.m_data.list[e]&&i.initData(this.m_data.list[e],this.m_data.target)}},r.scrolling=function(){if(this.itemArr[0]){f.event.emit(u.Game.Scrolling,this.node);for(var t=0;t<this.itemArr.length;t++){var e=this.itemArr[t],i=e.getPosition(),o=e.parent.getComponent(l).convertToWorldSpaceAR(i),n=this.node.parent.getComponent(l).convertToWorldSpaceAR(this.node.getPosition()),r=this.node.getComponent(l).height/2;if(o.y>=n.y+r+this.scrollItem.getComponent(l).height){var s=this.posArr.indexOf(i.y);if(s+this.loopCount+1>this.posArr.length-1)return;var a=e.getPosition();a.y=this.posArr[s+this.loopCount+1],e.setPosition(a),this.updateItemInfo(e,s+this.loopCount+1)}if(o.y<this.bottomY){var h=this.posArr.indexOf(i.y);if(h-this.loopCount-1>=0){var p=e.getPosition();p.y=this.posArr[h-this.loopCount-1],e.setPosition(p),this.updateItemInfo(e,h-this.loopCount-1)}}i=(e=this.itemArr[this.itemArr.length-1]).getPosition(),o=e.parent.getComponent(l).convertToWorldSpaceAR(i),-1e5==this.bottomY&&(this.bottomY=n.y-r-this.scrollItem.getComponent(l).height)}}},e}(g)).prototype,"scrollItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(y.prototype,"gap",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),A=y))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/settingViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./enumConst.ts","./eventName.ts","./app.ts","./cocosHelper.ts","./globalFuncHelper.ts","./storageHelper.ts"],(function(t){var e,a,n,i,o,s,c,u,l,r,p;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator},function(t){i=t.BaseViewCmpt},function(t){o=t.PageIndex},function(t){s=t.EventName},function(t){c=t.App},function(t){u=t.CocosHelper},function(t){l=t.GlobalFuncHelper},function(t){r=t.StorageHelper,p=t.StorageHelperKey}],execute:function(){var h;a._RF.push({},"5851b+QnKRAfo5M6KhGfdnW","settingViewCmpt",void 0);var d=n.ccclass;n.property,t("settingViewCmpt",d("settingViewCmpt")(h=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).lbName=null,e.lbHeart=null,e.head=null,e.content=null,e}e(a,t);var n=a.prototype;return n.onLoad=function(){for(var e=1;e<10;e++)this["onClick_head"+e]=this.onClickHead.bind(this);t.prototype.onLoad.call(this),this.lbName=this.viewList.get("lbName"),this.lbHeart=this.viewList.get("animNode/content/p/lbHeart"),this.content=this.viewList.get("scrollview/view/content"),this.head=this.viewList.get("bg/head"),this.updateOperateStatus()},n.updateOperateStatus=function(){this.viewList.get("bg/btnSound/off")?(this.viewList.get("bg/btnSound/off").active=!r.getBooleanData(p.Music_Eff_Status),this.viewList.get("bg/btnMusic/off").active=!r.getBooleanData(p.Music_Status)):(this.viewList.get("animNode/content/btnSound/off").active=!r.getBooleanData(p.Music_Eff_Status),this.viewList.get("animNode/content/btnMusic/off").active=!r.getBooleanData(p.Music_Status)),this.lbHeart&&u.updateLabelText(this.lbHeart,"x"+l.getHeart()),this.lbName&&(u.updateLabelText(this.lbName,c.user.rankData.name),this.updateHead(),this.updateHeadInfo("head"+c.user.rankData.icon))},n.loadExtraData=function(){c.audio.play("UI_PopUp")},n.updateHead=function(){this.head&&u.updateUserHeadSpriteAsync(this.head,c.user.rankData.icon)},n.onClick_btnSound=function(){c.audio.play("button_click"),r.setBooleanData(p.Music_Eff_Status,!r.getBooleanData(p.Music_Eff_Status)),this.updateOperateStatus()},n.onClick_btnMusic=function(){c.audio.play("button_click"),r.setBooleanData(p.Music_Status,!r.getBooleanData(p.Music_Status)),this.updateOperateStatus()},n.onClickHead=function(t){c.audio.play("button_click"),this.updateHeadInfo(t.name);var e=+t.name.substring(t.name.length-1,t.name.length);c.user.rankData.icon=e,l.setIcon(e),this.updateHead()},n.updateHeadInfo=function(t){this.head&&this.content.children.forEach((function(e){e.getChildByName("s").active=e.name==t}))},n.onClick_replayBtn=function(){if(this.onClick_closeBtn(),c.audio.play("button_click"),0==l.getHeart())return c.view.showMsgTips("生命值不足"),void c.backHome(!1,o.shop);c.event.emit(s.Game.Restart),l.setHeart(-1)},n.onClick_homeBtn=function(){c.audio.play("button_click"),this.onClick_closeBtn(),c.backHome()},a}(i))||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/singletonClass.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"2bc1bhYp31C8I5yjunTi037","singletonClass",void 0);t("SingletonClass",function(){function t(){this._instance=null,this._isValid=!1}t.getInstance=function(t){return null==this.prototype._instance&&(this.prototype._instance=new t),this.prototype._instance};var i=t.prototype;return i.init=function(){this.onInit.apply(this,arguments),this._isValid=!0},i.destroy=function(){this._isValid&&(this.onDestroy(),this._isValid=!1,this._instance=null)},i.onInit=function(){},i.onDestroy=function(){},n(t,[{key:"valid",get:function(){return this._isValid}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/startCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts"],(function(t){var r,e,n,s;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){s=t.BaseViewCmpt}],execute:function(){var c;e._RF.push({},"c5570pneRxP1apLu6UgC9Ua","startCmpt",void 0);var o=n.ccclass;n.property,t("startCmpt",o("startCmpt")(c=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.start=function(){},n.update=function(t){},e}(s))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/storageHelper.ts",["cc","./app.ts","./logHelper.ts"],(function(t){var e,a,s,o;return{setters:[function(t){e=t.cclegacy,a=t.sys},function(t){s=t.App},function(t){o=t.PrintError}],execute:function(){e._RF.push({},"2e5d77HtUNEkpzK/zlWCR4y","storageHelper",void 0);t("StorageHelper",new(function(){function t(){}var e=t.prototype;return e.initData=function(){this.getData(i.Icon)||this.setData(i.Icon,1),this.getData(i.Music_Status)||this.setBooleanData(i.Music_Status,!0),this.getData(i.Music_Eff_Status)||this.setBooleanData(i.Music_Eff_Status,!0),this.getData(i.Zhen_Dong_Status)||this.setBooleanData(i.Zhen_Dong_Status,!0),this.getData(i.Level)||(this.setData(i.Level,1),s.gameLogic.curLevel=1),this.getData(i.Gold)||this.setData(i.Gold,500),this.getData(i.RefreshTools)||this.setData(i.RefreshTools,4),this.getData(i.ToolTime)||this.setData(i.ToolTime,4),this.getData(i.ToolReturn)||this.setData(i.ToolReturn,4),this.getData(i.StarBoxIndex)||this.setData(i.StarBoxIndex,0),this.getData(i.BombHor)||this.setData(i.BombHor,3),this.getData(i.BombVer)||this.setData(i.BombVer,3),this.getData(i.BombBomb)||this.setData(i.BombBomb,3),this.getData(i.BombAllSame)||this.setData(i.BombAllSame,3),this.getData(i.Heart)||this.setData(i.Heart,3)},e.getBooleanData=function(t,e){var a=this.getData(t,e);return!!a&&!!+a},e.setBooleanData=function(t,e){var a=e?"1":"0";this.setData(t,a),t==i.Music_Status&&(e?s.audio.resumeMusic():s.audio.stopMusic())},e.getData=function(t,e){if(t){var s,i=a.localStorage.getItem(t);if(!i)return e;try{s=JSON.parse(i)}catch(t){o("解析失败, data="+i),s=null}return s||i}o("StorageHelper 存储的key不能为空")},e.setData=function(t,e){if(t)if(e||0==e){var s="";try{s=JSON.stringify(e)}catch(t){o("解析失败, data="+e),s=null}s&&(e=s),a.localStorage.setItem(t,e)}else o("StorageHelper not data");else o("StorageHelper 存储的key不能为空")},t}()));var i=t("StorageHelperKey",new function(){this.Icon="Icon",this.Audio_Open="Audio_Open",this.Audio_Volume="Audio_Volume",this.Music_Status="Music_Status",this.Music_Eff_Status="Music_Eff_Status",this.Zhen_Dong_Status="Zhen_Dong_Status",this.Level="Level",this.StarScore="StarScore",this.StarReward="StarReward",this.LevelReward="LevelReward",this.Gold="Gold",this.RefreshTools="RefreshTools",this.ToolTime="ToolTime",this.ToolReturn="ToolReturn",this.StarBoxIndex="StarBoxIndex",this.Guide="Guide",this.Star="Star",this.BombHor="BombHor",this.BombVer="BomVerr",this.BombBomb="BombBomb",this.BombAllSame="BombAllSame",this.Heart="Heart"});e._RF.pop()}}}));

System.register("chunks:///_virtual/subGameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singletonClass.ts"],(function(n){var e,s,t;return{setters:[function(n){e=n.inheritsLoose},function(n){s=n.cclegacy},function(n){t=n.SingletonClass}],execute:function(){s._RF.push({},"148e8M9suxL7IQJo5WYysGm","subGameManager",void 0);n("SubGameManager",function(n){function s(){return n.apply(this,arguments)||this}return e(s,n),s}(t));s._RF.pop()}}}));

System.register("chunks:///_virtual/tileCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts"],(function(t){var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){r=t.BaseViewCmpt}],execute:function(){var c;i._RF.push({},"057992TSIdA57l2pwSOz1HO","tileCmpt",void 0);var s=n.ccclass;n.property,t("TileCmpt",s("TileCmpt")(c=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i}(r))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/timeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventName.ts","./app.ts","./singletonClass.ts"],(function(n){var t,e,i,o,s;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},function(n){i=n.EventName},function(n){o=n.App},function(n){s=n.SingletonClass}],execute:function(){e._RF.push({},"a8272OhvdVIV53O/161g+FV","timeManager",void 0);n("default",function(n){function e(){var t;return(t=n.call(this)||this).TimeDownConst=60,t.TimeDown=0,t._isDoing=!0,t}t(e,n);var s=e.prototype;return s.onInit=function(){setInterval(this.updateSecound.bind(this),1e3)},s.updateSecound=function(){this._isDoing&&(o.gameLogic.isFrezenTime||this.TimeDown--,o.event.emit(i.Game.TIMER_DOWN))},s.stopAll=function(){this._isDoing=!1},s.reStart=function(){this._isDoing=!0},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/tipsViewCmpt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./cocosHelper.ts","./toolsHelper.ts"],(function(t){var e,n,o,i,s,r,c,p,u,a;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t._decorator,r=t.Vec3,c=t.tween},function(t){p=t.BaseViewCmpt},function(t){u=t.CocosHelper},function(t){a=t.ToolsHelper}],execute:function(){var l;i._RF.push({},"fb0d4eQ+5lBVbkohQEjgq1L","tipsViewCmpt",void 0);var f=s.ccclass;s.property,t("tipsViewCmpt",f("tipsViewCmpt")(l=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var s=i.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this)},s.setTips=function(t){u.updateLabelText(this.viewList.get("animNode/lb"),t,!1)},s.setCloseFunc=function(){var t=n(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.delayTime(2);case 2:c(this.node).to(.5,{position:new r(0,1e3)}).call((function(){e&&e()})).start();case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.upMove=function(){var t=this.node.position,e=new r(t.x,t.y+100,t.z);this.node.setPosition(e)},i}(p))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/toolsHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,o,a,i;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.sys,i=t.Sprite}],execute:function(){o._RF.push({},"ce45ac17OxKSZ//ADHhu2f1","toolsHelper",void 0);var u=t("ToolsHelper",new(function(){function t(){this._timeoutIdTab=new Map}var o=t.prototype;return o.arrayRandomItem=function(t){return Array.isArray(t)?t[Math.ceil(Math.random()*t.length)-1]:t},o.getRandomCode=function(){var t=u.getRandom(0,10);return t<3?String.fromCodePoint(u.getRandom(97,122)):t<6?String.fromCodePoint(u.getRandom(65,90)):String.fromCodePoint(u.getRandom(48,57))},o.weightedRandom=function(t,e){for(var n=t.reduce((function(t,e){return t+e}),0),r=Math.random()*n,o=0,a=0;a<t.length;a++)if(r<=(o+=t[a]))return e[a];return null},o.getChipsByMoney=function(t,e){for(var n=[],r=e.length-1;r>=0;r--){var o=e[r];if(!(o>t)){var a=Math.floor(t/o);if(!(a<1)){for(;a-- >0;)n.push(e[r]);if(0===(t%=o))break}}}return n},o.getRandom=function(t,e,n){void 0===n&&(n=!0);var r=n?e-t+1:e-t,o=Math.random()*r;return Math.floor(o+t)},o.getRandf=function(t,e){return(Math.random()*(Math.round(Math.random())?-1:1)/2+.5)*(e-t)+t},o.toSecBySeconds=function(t){if(t<=0)return"00:00:00";var e=this.toMinBySeconds(t);e+=":";var n=Math.floor(t%60);return n<10&&(e+="0"),e+=n.toFixed(0)},o.toMinBySeconds=function(t){if(t<=0)return"00:00";var e="",n=Math.floor(t/3600),r=Math.floor(t/60)%60;return e=n<10?n>0?"0"+n+":":"00:":n+":",r<10&&(e+="0"),e+=r},o.toMinBySeconds2=function(t){if(t<=0)return"00:00";var e="",n=Math.floor(t/60)%60;e=n<10?n>0?"0"+n+":":"00:":n+":";var r=Math.floor(t%60);return r<10&&(e+="0"),e+=r.toFixed(0)},o.toDayHourBySeconds=function(t){var e={day:0,h:0,m:0,s:0};if(t<0)return e;var n=Math.floor(t/86400);t%=86400;var r=Math.floor(t/3600);return t%=3600,e={day:n,h:r,m:Math.floor(t/60),s:t%=60}},o.toFullTimeData=function(t){var e=new Date(1e3*t);return{y:e.getFullYear(),m1:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m2:e.getMinutes(),s:e.getSeconds()}},o.cloneMap=function(t){if(!(t instanceof Map))return null;for(var n,r=new Map,o=e(t);!(n=o()).done;){var a=n.value,i=a[0],u=a[1],c=void 0;c=u instanceof Map?this.cloneMap(u):u,r.set(i,c)}return r},o.cloneObject=function(t){return JSON.parse(JSON.stringify(t))},o.moneyToThousands=function(t){t/=100;for(var e=parseFloat((t+"").replace(/[^\d\.-]/g,"")).toFixed(2)+"",n=e.split(".")[0].split("").reverse(),r=e.split(".")[1],o="",a=0;a<n.length;a++)o+=n[a]+((a+1)%3==0&&a+1!=n.length?",":"");return o.split("").reverse().join("")+"."+r},o.moneyToMillion=function(t){t/=1e4;for(var e=parseFloat((t+"").replace(/[^\d\.-]/g,"")).toFixed(2)+"",n=e.split(".")[0].split("").reverse(),r=e.split(".")[1],o="",a=0;a<n.length;a++)o+=n[a]+((a+1)%3==0&&a+1!=n.length?",":"");return o.split("").reverse().join("")+"."+r},o.getCurTime=function(){var t=new Date;return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()+" ")+(t.getHours()+":")+(t.getMinutes()+":")+t.getSeconds()+":>>"},o.delayTime=function(){var t=n(r().mark((function t(e,n){var o,a,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=0),void 0===n&&(n=0),this._timeoutIdTab.has(n)||this._timeoutIdTab.set(n,[]),o=this._timeoutIdTab.get(n),t.next=6,new Promise((function(t){a=setTimeout(t,1e3*e),o.push(a)}));case 6:~(i=o.indexOf(a))&&o.splice(i,1);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),o.clearDelayTime=function(t){(void 0===t&&(t=0),this._timeoutIdTab.has(t))&&this._timeoutIdTab.get(t).forEach((function(t){clearTimeout(t)}))},o.getUUid=function(){return""},o.matchChinese=function(t){return/[\u4E00-\u9FA5\uF900-\uFA2D]/.test(t)},o.matchLetterNumber=function(t){return t.match(/[a-zA-Z0-9]*/g)},o.matchHtmlElement=function(t){return t.match(/<([^>]+)>/g)},o.checkAccountExist=function(){return null},o.matchHtmlContent=function(t){return!!t.match(/<([a-zA-Z]+)[^>]*>([^<]*)<\/\1>/g)},o.showClearEditContentBtn=function(t,e){""!=t.trim()?e.active=!0:e.active=!1},o.matchClipboardContent=function(t){return/Nuggets-Share=.*?/.test(t)?t:""},o.matchNumber=function(t){return t.match(/\d+/g)},o.getFullTime=function(t){var e=this.toFullTimeData(t),n=e.m1>9?e.m1:"0"+e.m1,r=e.d>9?e.d:"0"+e.d,o=e.h>9?e.h:"0"+e.h,a=e.m2>9?e.m2:"0"+e.m2,i=e.s>9?e.s:"0"+e.s;return e.y+"/"+n+"/"+r+" "+o+":"+a+":"+i},o.getMoneyByContry=function(t){var e=u.moneyToThousands(t);return this.getMoneyType()+e},o.getMoneyType=function(){return"R$"},o.openUrl=function(t){a.openURL(t)},o.convertRoleName=function(t){return(t.length>4?t.substring(0,4):t.substring(0,Math.floor(.5*t.length)))+"***"},o.convertRoleName2=function(t,e){void 0===e&&(e=4);var n=t,r=e;return t.length>r&&(n=t.substring(0,r)+"***"),n},o.reSet2DArray=function(t){var e=t;Array.isArray(t[0])||(e=[t[0]]);return e},o.setNodeGray=function(t,e){var n=t.getComponent(i);n&&(n.grayscale=e);for(var r=0;r<t.children.length;r++)this.setNodeGray(t.children[r],e)},t}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/userInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./routers.ts","./globalFuncHelper.ts","./app.ts","./singletonClass.ts"],(function(n){var t,o,e,i,s,r;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy},function(n){e=n.Router},function(n){i=n.GlobalFuncHelper},function(n){s=n.App},function(n){r=n.SingletonClass}],execute:function(){o._RF.push({},"92568tI/dFNWIkbntDk95QM","userInfo",void 0);n("UserInfo",function(n){function o(){for(var t,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(t=n.call.apply(n,[this].concat(e))||this).rankData={star:0,id:0,level:0,icon:i.getIcon(),name:"",gold:0,rank:0,time:""},t.pid=0,t}t(o,n);var r=o.prototype;return r.updateRankData=function(n){this.rankData=n},r.init=function(){this.rankData.name="Happy Barry",s.event.on(e.rut_login,this.evtLogin,this)},r.evtLogin=function(n){this.pid=n.msg.user.pid,console.log("-------------------- pid -------------------"),console.log("-------------------- pid -------------------"),console.log("-------------------- pid -------------------"),console.log(this.pid)},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/util.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,a,u,c,i;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e.sys,a=e.Vec3,u=e.Texture2D,c=e.ImageAsset,i=e.SpriteFrame}],execute:function(){e({copyVec3Array:function(e){for(var r=[],t=0;t<e.length;t++){var n=new a(e[t].x,e[t].y,e[t].z);r.push(n)}return r},getBase64Data:function(e){return s.apply(this,arguments)},getBase64SpriteFrame:function(e){return f.apply(this,arguments)},getDay:function(){var e=(new Date).getFullYear().toString(),r=(new Date).getTime()-new Date(e).getTime(),t=Math.ceil(r/864e5)+1;return console.log("今天是%s年中的第%s天",e,t),t},getIp:function(e){o.platform==o.Platform.WECHAT_GAME||(o.platform,o.Platform.BYTEDANCE_MINI_GAME);return""},shuffle:function(e){for(var r=1;r<e.length;r++){var t=Math.floor(Math.random()*(r+1)),n=e[t];e[t]=e[r],e[r]=n}return e},unitVec3:function(e){return new a(Math.floor(e.x),Math.floor(e.y),Math.floor(e.z))}}),n._RF.push({},"0c812zqnDNP3JmNG/3OWpKo","util",void 0);e("IpType",function(e){return e[e.local=0]="local",e[e.remote=1]="remote",e}({})),e("ServerType",function(e){return e[e.connectorServer=100]="connectorServer",e[e.gameServer=101]="gameServer",e[e.userServer=102]="userServer",e}({})),e("ServerPort",function(e){return e[e.gameServer=9e3]="gameServer",e[e.userServer=9001]="userServer",e[e.connector=8999]="connector",e}({}));function s(){return(s=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=r.spriteFrame.texture,n="",o=new Image;o.src=t,o.onload=function(){var r=document.createElement("canvas");r.width=o.width,r.height=o.height,r.getContext("2d").drawImage(o,0,0,o.width,o.height),n=r.toDataURL("image/png"),console.log(n),e(n)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=new u,n=new Image;n.src=r,n.onload=function(){t.image=new c(n);var r=new i;r.texture=t,e(r)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n._RF.pop()}}}));

System.register("chunks:///_virtual/viewManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseViewCmpt.ts","./prefabPool.ts","./enumConst.ts","./viewNameConst.ts","./tipsViewCmpt.ts","./logHelper.ts","./resLoadHelper.ts","./singletonClass.ts"],(function(e){var t,i,n,s,r,a,o,u,c,l,w,h,p,m,f,V,d,g,v,y;return{setters:[function(e){t=e.inheritsLoose,i=e.createForOfIteratorHelperLoose,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e.isValid,o=e.director,u=e.Vec3,c=e.instantiate,l=e.Prefab},function(e){w=e.BaseViewCmpt},function(e){h=e.PrefabPool},function(e){p=e.WindowType,m=e.WindowOpenType},function(e){f=e.ViewName},function(e){V=e.tipsViewCmpt},function(e){d=e.PrintLog,g=e.PrintError},function(e){v=e.ResLoadHelper},function(e){y=e.SingletonClass}],execute:function(){r._RF.push({},"efbecumL1BMJZnaWgzpVnaD","viewManager",void 0);e("ViewManager",function(e){function r(){var t;return(t=e.call(this)||this).sceneNode=void 0,t.allView=new Map,t.multiView=[],t.curMultiView=void 0,t.isExistMultiView=!1,t.isViewOpening=!1,t.waitOpenViewList=[],t.msgPool=void 0,t.msgCmptArr=[],t.isShowMask=void 0,t.netMaskTips=void 0,t.foreverNodeArr=[f.Single.eMarquee],t.msgPool=new h,t.msgPool.initPool(""+f.Multiple.eMsg,10),t}t(r,e);var y=r.prototype;return y.onInit=function(e){this.sceneNode=e},y.openView=function(){var e=n(s().mark((function e(t){var i,n,r,a,o,u,h,p=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=p.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=p[r];if(!this.isViewOpening){e.next=4;break}return this.waitOpenViewList.push({name:t,data:n}),e.abrupt("return");case 4:if(this.getViewByName(t)){e.next=22;break}return this.isViewOpening=!0,e.next=8,v.loadPrefabSync(""+t);case 8:if(o=e.sent){e.next=18;break}return e.next=12,v.loadCommonAssetSync(""+t,l);case 12:if(o=e.sent){e.next=18;break}return g("ViewManager openView not prefab = "+t),this.isViewOpening=!1,this.openWaitView(),e.abrupt("return");case 18:u=c(o),a=u.getComponent(w),e.next=23;break;case 22:a=this.getViewByName(t);case 23:if(a){e.next=26;break}return g("ViewManager openView not Cmpt = "+t),e.abrupt("return");case 26:return a.viewOpenType==m.eSingle?(this.getViewByName(t)?d(" open repeat view !!!"):(this.getRootView(a.viewType).addChild(a.node),a.node.attr({viewName:t}),this.allView.set(t,a)),(h=a).loadExtraData.apply(h,n)):(a.node.attr({viewName:t}),this.setMultiView.apply(this,[a].concat(n))),d(" openView = "+t),this.isViewOpening=!1,this.openWaitView(),e.abrupt("return",a.node);case 31:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),y.runScene=function(){var e=n(s().mark((function e(t,n){var r,a,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=o.getScene().name){e.next=3;break}return g(" runScene same Scene "),e.abrupt("return");case 3:return e.next=5,new Promise((function(e){o.preloadScene(t,e)}));case 5:for(r=i(this.allView);!(a=r()).done;)u=a.value,c=u[0],this.closeView(c);this.allView.clear(),this.netMaskTips&&this.netMaskTips.removeFromParent(),this.netMaskTips=null,o.loadScene(t);case 10:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}(),y.showAlertText=function(e,t,i,n,s,r){},y.showMsgTips=function(){var e=n(s().mark((function e(t){var i,n,r,a=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.msgPool.getNode();case 2:for((i=e.sent).setPosition(new u),this.sceneNode.getChildByName("toast").addChild(i),(n=i.getComponent(V)).setTips(t),n.setCloseFunc((function(){a.msgCmptArr.shift(),a.msgPool.putNode(i)})),r=0;r<this.msgCmptArr.length;r++)this.msgCmptArr[r].upMove();this.msgCmptArr.push(n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),y.closeView=function(e){var t=this.getViewByName(e);t?(d(" closeView = "+e),this.delViewByName(e),t.onClose()):d("closeView not found = "+e)},y.closeTopView=function(){for(var e,t=0,n=i(this.allView);!(e=n()).done;){var s=e.value,r=s[0];s[1];(t+=1)==this.allView.size&&this.closeView(r)}},y.isForeverNode=function(e){return this.foreverNodeArr.indexOf(e)>-1},y.backLobbyView=function(){var e=this;this.allView.forEach((function(t){var i=t.node.viewName;e.isForeverNode(i)||e.closeView(i)})),this.multiView.length=0,this.multiView=[]},y.getCurName=function(){for(var e,t=0,n=i(this.allView);!(e=n()).done;){var s=e.value,r=s[0];s[1];if((t+=1)==this.allView.size)return r}return null},y.isExistView=function(e){for(var t,n=i(this.allView);!(t=n()).done;){var s=t.value;s[0];if(s[1].node.viewName==e)return!0}return!1},y.getViews=function(){return this.allView.keys},y.getViewByName=function(e){return this.curMultiView&&a(this.curMultiView.node)&&e==this.curMultiView.node.viewName?this.curMultiView:this.allView.has(e)?this.allView.get(e):null},y.delViewByName=function(e){this.getViewByName(e)&&this.allView.delete(e)},y.openWaitView=function(){if(this.waitOpenViewList&&this.waitOpenViewList.length){var e=this.waitOpenViewList.shift();this.openView.apply(this,[e.name].concat(e.data))}},y.getRootView=function(e){if(!this.sceneNode)return o.getScene().getChildByName("Canvas")||o.getScene();var t;switch(e){case p.eMap:t=this.sceneNode.getChildByName("map");break;case p.eView:t=this.sceneNode.getChildByName("view");break;case p.eTips:t=this.sceneNode.getChildByName("tips");break;case p.eMarquee:t=this.sceneNode.getChildByName("marquee");break;case p.eToast:t=this.sceneNode.getChildByName("toast");break;case p.eNetwork:t=this.sceneNode.getChildByName("network")}return!t&&(t=o.getScene().getChildByName("Canvas"))||o.getScene(),t},y.addChildToTipsLayer=function(e,t){var i=this.getRootView(p.eTips),n=new u;console.log(n),e.setPosition(n),i.addChild(e)},y.setMultiView=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.multiView.length||this.isExistMultiView?(this.multiView.push({cmpt:e,data:i}),this.multiView.sort((function(e,t){return e.cmpt.viewType-t.cmpt.viewType}))):(this.multiView.push({cmpt:e,data:i}),this.nextMultiView())},y.nextMultiView=function(){var e=n(s().mark((function e(){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.multiView.length){e.next=3;break}return this.isExistMultiView=!1,e.abrupt("return");case 3:return this.isExistMultiView=!0,i=this.multiView.shift(),this.curMultiView=i.cmpt,this.getRootView(i.cmpt.viewType).addChild(i.cmpt.node),(t=i.cmpt).loadExtraData.apply(t,i.data),e.next=11,new Promise((function(e){i.cmpt.setCloseFunc(e)}));case 11:this.nextMultiView();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),y.showMarquee=function(e){var t=this.getViewByName(f.Single.eMarquee);t?e&&t.getComponent(w).loadExtraData(e):this.openView(f.Single.eMarquee,e)},y.getCommonGoodsItem=function(){var e=n(s().mark((function e(t){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.loadCommonAssetSync("common/goodsItem",l);case 2:if(!(i=e.sent)){e.next=5;break}return e.abrupt("return",c(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r}(y));r._RF.pop()}}}));

System.register("chunks:///_virtual/viewNameConst.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){var u;e("ViewName",void 0),i._RF.push({},"f5e413VR6pGubT+2JeS4qCY","viewNameConst",void 0),function(e){var i=function(e){return e.eTest="ui/testView",e.eMarquee="ui/marquee/marqueeView",e.eHomeView="ui/homeView",e.eGameView="ui/gameView",e.eResultView="ui/resultView",e.eWinView="ui/winView",e.eSettingView="ui/settingView",e.ePaurseView="ui/paurseView",e.eLoadingView="ui/loadingView",e.eGoldRewrdView="ui/goldRewrdView",e.eShareView="ui/shareView",e.eBuyView="ui/buyView",e.eloseView="ui/loseView",e.eLevelTargetView="ui/levelTargetView",e.esettingGameView="ui/settingGameView",e.eChallengeView="ui/challengeView",e.eGuideView="ui/guideView",e.eAcrossView="ui/acrossView",e}({});e.Single=i;var u=function(e){return e.eAlert="common/alertView",e.eMsg="ui/tipsView",e}({});e.Multiple=u;var t=function(e){return e.rocket="rocket",e.particle="particle",e.grid="grid",e.score="score",e.block="block",e.map="map",e}({});e.Pieces=t}(u||(u=e("ViewName",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/webPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./logHelper.ts","./toolsHelper.ts","./basePlatform.ts"],(function(e){var t,n,r,o,a,i,u,c,s,l,f;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime,o=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,i=e.assetManager},function(e){u=e.App},function(e){c=e.PrintLog,s=e.PrintError},function(e){l=e.ToolsHelper},function(e){f=e.BasePlatform}],execute:function(){a._RF.push({},"b3474h7hB9OkoY4qXVh7G2W","webPlatform",void 0);e("WebPlatform",function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var f=a.prototype;return f.getUUid=function(){return l.getUUid()},f.copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";var n,r=getSelection();r.rangeCount>0&&(n=r.getRangeAt(0)),document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length;try{document.execCommand("copy")}catch(e){}document.body.removeChild(t),n&&(r.removeAllRanges(),r.addRange(n)),u.view.showMsgTips("复制成功")},f.getClipboardContent=function(){var e=n(r().mark((function e(t){var n,a,i,u,c,s,l,f,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.navigator.clipboard.read();case 3:n=e.sent,a="",i=o(n);case 6:if((u=i()).done){e.next=22;break}c=u.value,s=o(c.types);case 9:if((l=s()).done){e.next=20;break}return f=l.value,e.next=13,c.getType(f);case 13:if(!(p=e.sent)||"text/plain"!=p.type){e.next=18;break}return e.next=17,p.text();case 17:a=e.sent;case 18:e.next=9;break;case 20:e.next=6;break;case 22:return t&&t(a),e.abrupt("return",a);case 26:e.prev=26,e.t0=e.catch(0),t&&t(null);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(t){return e.apply(this,arguments)}}(),f.getPackageName=function(){return new Promise((function(e){e("")}))},f.getAppVersion=function(){return""},f.checkIsEmulator=function(){return!1},f.sendNativeMsg=function(e,t){throw new Error("Method not implemented.")},f.receiveNativeMsg=function(e){throw new Error("Method not implemented.")},f.loadGame=function(e){var t=""+e;return new Promise((function(n){var r=i.getBundle(t);r?n(r):i.loadBundle(""+e,{onFileProgress:function(e){c(" load game progress = "+e.progress)}},(function(e,t){if(e)return s(e),void n(null);n(t)}))}))},f.savePicture=function(e){},f.faceBookLogin=function(){return""},f.faceBookLoginOut=function(){return!1},f.loginGoogle=function(){return""},f.loginOutGoogle=function(){return!1},f.faceBookShare=function(){return!1},f.whatsAppShare=function(e){return!1},a}(f));a._RF.pop()}}}));

System.register("chunks:///_virtual/wxManager.ts",["cc","./enumConst.ts","./eventName.ts","./app.ts","./globalFuncHelper.ts","./advertise.ts"],(function(e){var t,o,n,i,s,r,a;return{setters:[function(e){t=e.cclegacy,o=e.sys},function(e){n=e.Bomb},function(e){i=e.EventName},function(e){s=e.App},function(e){r=e.GlobalFuncHelper},function(e){a=e.Advertise}],execute:function(){t._RF.push({},"9df71uc0lBP/rbf21UKe0qM","wxManager",void 0);e("IsGetInfo",!1);var c=e("WxManager",function(){function e(){this.wxCode=""}var t=e.prototype;return t.init=function(){s.event.on(i.Game.Share,this._evtShareToOthers,this),this._wxLogin()},t._wxLogin=function(){if(o.platform==o.Platform.WECHAT_GAME){console.log("start_login");var e=this;wx.login({success:function(t){console.log("loginSuccess"),e.wxCode=t.code,e._wxGetUserState()}.bind(this)})}},t._wxGetUserState=function(){if(o.platform==o.Platform.WECHAT_GAME){console.log("_wxGetUserState");var e=this;wx.getSetting({fail:function(t){console.log("_wxGetUserState1"),e._wxPrivacy()}.bind(this),success:function(t){console.log("_wxGetUserState2"),t.authSetting["scope.userInfo"]?(console.log("获取用户状态成功"),e._requirePrivaceAuthorize()):e._wxPrivacy()}.bind(this)})}},t._wxPrivacy=function(){if(o.platform==o.Platform.WECHAT_GAME){this._requirePrivaceAuthorize()}},t._requirePrivaceAuthorize=function(){if(o.platform==o.Platform.WECHAT_GAME){var e=this;wx.requirePrivacyAuthorize({success:function(t){console.log("-------- privacy --------"),console.log(t),e._wxGetUserInfo()},fail:function(){},complete:function(){}})}},t._wxGetUserInfo=function(){if(o.platform==o.Platform.WECHAT_GAME){console.log("手动授权 wxgetuserInfo");var e=this,t=wx.createUserInfoButton({type:"text",text:"click",style:{left:0,top:0,width:750,height:1443,backgroundColor:"",borderColor:"#FFFFFF",borderWidth:0,borderRadius:0,color:"#FFFFFF",textAlign:"center",fontSize:1,lineHeight:1400}});t.onTap((function(o){o.errMsg.indexOf("auth deny")>-1||o.errMsg.indexOf("auth denied")>-1?e._guideActive():e._setUserData(o),t.hide()})),t.show()}},t._guideActive=function(){if(o.platform==o.Platform.WECHAT_GAME){var e=this;wx.showModal({title:"警告",content:"拒绝授权将无法正常游戏",cancelText:"取消",showCancel:!0,confirmText:"设置",success:function(t){t.confirm&&wx.openSetting({success:function(t){!0===t.authSetting["scope.userInfo"]&&e.getUserInfo()}.bind(this)})}.bind(this)})}},t.getUserInfo=function(){if(o.platform==o.Platform.WECHAT_GAME){console.log("getUserInfo1");var e=this;wx.getUserProfile({fail:function(t){console.log("getUserInfo3"),console.log(t),(t.errMsg.indexOf("auth deny")>-1||t.errMsg.indexOf("auth denied")>-1)&&e._guideActive()}.bind(this),success:function(t){console.log("getUserInfo2"),e._setUserData(t)}.bind(this)})}},t._shareFunc=function(){if(o.platform==o.Platform.WECHAT_GAME){wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});var e=canvas.toTempFilePathSync({x:10,y:10,width:700,height:1100,destWidth:400,destHeight:300});wx.onShareAppMessage((function(){return{title:"小姐姐在糖果世界挑战闯关，快来救救小姐姐",imageUrl:e}})),wx.onShareTimeline((function(){return{title:"小姐姐在糖果世界挑战，快来救救小姐姐",imageUrl:e}}))}},t._evtShareToOthers=function(e,t){if(void 0===t&&(t=!0),o.platform==o.Platform.WECHAT_GAME){var n=canvas.toTempFilePathSync({x:10,y:10,width:700,height:1100,destWidth:400,destHeight:300});wx.shareAppMessage({title:"小姐姐在糖果世界挑战已经闯过"+e+"关，快来挑战小姐姐吧",imageUrl:n}),t&&this.addReward()}else s.view.showMsgTips("请在小程序中测试")},t.ShareToOthers=function(e){if(o.platform==o.Platform.WECHAT_GAME){var t=canvas.toTempFilePathSync({x:10,y:10,width:700,height:1100,destWidth:400,destHeight:300});wx.shareAppMessage({title:"我以闯过"+e+"关，邀您来挑战",imageUrl:t})}this.addReward()},t.addReward=function(){setTimeout((function(){r.setGold(s.gameLogic.rewardGold),r.setBomb(n.hor,1),r.setBomb(n.ver,1),r.setBomb(n.bomb,1),r.setBomb(n.allSame,1),s.event.emit(i.Game.ToolCountRefresh),s.event.emit(i.Game.UpdataGold),s.event.emit(i.Game.ContinueGame)}),2e3)},t._setUserData=function(e){if(o.platform==o.Platform.WECHAT_GAME){console.log("------------------res------------"),console.log(e);var t=e.userInfo;if(this._shareFunc(),t&&t.nickName){var n={name:t.nickName,icon:t.avatarUrl};console.log(n),s.user.rankData.name=t.nickName}a.init()}},t.setWxCloudRankData=function(e){wx.setUserCloudStorage({KVDataList:[{key:"level",value:e}],success:function(){console.log("setwxcloudrankdata success")}})},e}());e("WxMgr",new c);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});